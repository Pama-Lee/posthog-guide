"use strict";(self.webpackChunkposthog_guide=self.webpackChunkposthog_guide||[]).push([[212],{91289:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93/clickhouse","title":"ClickHouse \u5728 PostHog \u4e2d\u7684\u5e94\u7528","description":"ClickHouse","source":"@site/docs/\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93/clickhouse.md","sourceDirName":"\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93","slug":"/\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93/clickhouse","permalink":"/posthog-guide/docs/\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93/clickhouse","draft":false,"unlisted":false,"editUrl":"https://github.com/pama-lee/posthog-guide/tree/main/docs/\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93/clickhouse.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93","permalink":"/posthog-guide/docs/category/-\u6301\u4e45\u5316\u6570\u636e\u5e93"},"next":{"title":"PostgreSQL \u5728 PostHog \u4e2d\u7684\u5e94\u7528","permalink":"/posthog-guide/docs/\ud83d\udcbe \u6301\u4e45\u5316\u6570\u636e\u5e93/postgresql"}}');var t=s(74848),l=s(28453);const d={},r="ClickHouse \u5728 PostHog \u4e2d\u7684\u5e94\u7528",a={},c=[{value:"\u67b6\u6784\u6982\u89c8",id:"\u67b6\u6784\u6982\u89c8",level:2},{value:"\u6838\u5fc3\u8868\u7ed3\u6784",id:"\u6838\u5fc3\u8868\u7ed3\u6784",level:2},{value:"1. Kafka \u4e8b\u4ef6\u8868 (<code>kafka_events</code>)",id:"1-kafka-\u4e8b\u4ef6\u8868-kafka_events",level:3},{value:"2. \u7269\u5316\u89c6\u56fe (<code>events_mv</code>)",id:"2-\u7269\u5316\u89c6\u56fe-events_mv",level:3},{value:"3. \u53ef\u5199\u4e8b\u4ef6\u8868 (<code>writable_events</code>)",id:"3-\u53ef\u5199\u4e8b\u4ef6\u8868-writable_events",level:3},{value:"4. \u5206\u7247\u4e8b\u4ef6\u8868 (<code>sharded_events</code>)",id:"4-\u5206\u7247\u4e8b\u4ef6\u8868-sharded_events",level:3},{value:"5. \u67e5\u8be2\u4e8b\u4ef6\u8868 (<code>events</code>)",id:"5-\u67e5\u8be2\u4e8b\u4ef6\u8868-events",level:3},{value:"\u7528\u6237\u6570\u636e\u5904\u7406",id:"\u7528\u6237\u6570\u636e\u5904\u7406",level:2},{value:"\u7528\u6237\u8868\u8bbe\u8ba1",id:"\u7528\u6237\u8868\u8bbe\u8ba1",level:3},{value:"\u6027\u80fd\u4f18\u5316",id:"\u6027\u80fd\u4f18\u5316",level:2},{value:"1. \u67e5\u8be2\u4f18\u5316",id:"1-\u67e5\u8be2\u4f18\u5316",level:3},{value:"2. \u5206\u7247\u4f18\u5316",id:"2-\u5206\u7247\u4f18\u5316",level:3},{value:"3. \u6570\u636e\u538b\u7f29",id:"3-\u6570\u636e\u538b\u7f29",level:3},{value:"\u76d1\u63a7\u548c\u7ef4\u62a4",id:"\u76d1\u63a7\u548c\u7ef4\u62a4",level:2},{value:"1. \u7cfb\u7edf\u76d1\u63a7",id:"1-\u7cfb\u7edf\u76d1\u63a7",level:3},{value:"2. \u6027\u80fd\u76d1\u63a7",id:"2-\u6027\u80fd\u76d1\u63a7",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u6269\u5c55\u9605\u8bfb",id:"\u6269\u5c55\u9605\u8bfb",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"clickhouse-\u5728-posthog-\u4e2d\u7684\u5e94\u7528",children:"ClickHouse \u5728 PostHog \u4e2d\u7684\u5e94\u7528"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://svgmix.com/uploads/ec83c7-clickhouse.svg",alt:"ClickHouse"})}),"\n",(0,t.jsx)(n.p,{children:"ClickHouse \u662f PostHog \u7684\u6838\u5fc3\u5206\u6790\u5f15\u64ce\uff0c\u8d1f\u8d23\u5904\u7406\u548c\u5206\u6790\u5927\u89c4\u6a21\u4e8b\u4ef6\u6570\u636e\u3002\u4e0d\u540c\u4e8e\u76f4\u63a5\u5199\u5165\u6570\u636e\uff0cPostHog \u91c7\u7528\u4ece Kafka \u62c9\u53d6\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u663e\u8457\u63d0\u9ad8\u4e86\u6570\u636e\u6444\u5165\u7ba1\u9053\u7684\u5bb9\u9519\u80fd\u529b\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u67b6\u6784\u6982\u89c8",children:"\u67b6\u6784\u6982\u89c8"}),"\n",(0,t.jsx)(n.p,{children:"PostHog \u91c7\u7528\u5206\u7247\u7684 ClickHouse \u8bbe\u7f6e\u6765\u786e\u4fdd\u7cfb\u7edf\u7684\u53ef\u6269\u5c55\u6027\u3002\u4ee5\u4e0b\u662f\u6570\u636e\u6d41\u8f6c\u7684\u6574\u4f53\u67b6\u6784\uff1a"}),"\n",(0,t.jsx)(n.mermaid,{value:'flowchart LR\n    classDef table fill:#f6e486,stroke:#ffc45d;\n    kafka_events["kafka_events table<br/>(Kafka table engine)"]:::table\n    eventsmv["events_mv table<br/>(Materialized view)"]:::table\n    writable_events["writable_events table</br/>(Distributed table engine)"]:::table\n    events["events table</br/>(Distributed table engine)"]:::table\n    sharded_events["sharded_events table<br/>(ReplicatedReplacingMergeTree table engine)"]:::table\n\n    kafka_events -.clickhouse_events_json topic.- Kafka\n    eventsmv --reads from--\x3e kafka_events\n    eventsmv --pushes data to--\x3e writable_events\n    writable_events -.pushes data to.-> sharded_events\n\n    events -.reads from.-> sharded_events'}),"\n",(0,t.jsx)(n.h2,{id:"\u6838\u5fc3\u8868\u7ed3\u6784",children:"\u6838\u5fc3\u8868\u7ed3\u6784"}),"\n",(0,t.jsxs)(n.h3,{id:"1-kafka-\u4e8b\u4ef6\u8868-kafka_events",children:["1. Kafka \u4e8b\u4ef6\u8868 (",(0,t.jsx)(n.code,{children:"kafka_events"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528 Kafka \u8868\u5f15\u64ce\u7684 ",(0,t.jsx)(n.code,{children:"kafka_events"})," \u8868\u4f5c\u4e3a\u6570\u636e\u5165\u53e3\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE kafka_events\n(\n    uuid UUID,\n    event String,\n    properties String,\n    timestamp DateTime64(6, 'UTC'),\n    team_id Int64,\n    distinct_id String,\n    created_at DateTime64(6, 'UTC'),\n    elements_chain String\n)\nENGINE = Kafka('kafka:9092', 'clickhouse_events_json', 'clickhouse_consumer_group', 'JSONEachRow');\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u4e2a\u8868\u7684\u7279\u70b9\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4f7f\u7528 Kafka \u8868\u5f15\u64ce\u8fde\u63a5 Kafka \u96c6\u7fa4"}),"\n",(0,t.jsx)(n.li,{children:"\u5728\u67e5\u8be2\u65f6\u6d88\u8d39\u6570\u636e\uff0c\u5e76\u66f4\u65b0 Kafka \u6d88\u8d39\u7ec4\u7684\u504f\u79fb\u91cf"}),"\n",(0,t.jsx)(n.li,{children:"\u652f\u6301 JSON \u683c\u5f0f\u7684\u4e8b\u4ef6\u6570\u636e\u89e3\u6790"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"2-\u7269\u5316\u89c6\u56fe-events_mv",children:["2. \u7269\u5316\u89c6\u56fe (",(0,t.jsx)(n.code,{children:"events_mv"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"events_mv"})," \u8868\u4f5c\u4e3a\u6570\u636e\u7ba1\u9053\uff0c\u5b9a\u671f\u4ece ",(0,t.jsx)(n.code,{children:"kafka_events"})," \u62c9\u53d6\u6570\u636e\u5e76\u63a8\u9001\u5230\u76ee\u6807\u8868\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE MATERIALIZED VIEW events_mv\nTO writable_events\nAS SELECT\n    uuid,\n    event,\n    properties,\n    timestamp,\n    team_id,\n    distinct_id,\n    created_at,\n    elements_chain\nFROM kafka_events;\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"3-\u53ef\u5199\u4e8b\u4ef6\u8868-writable_events",children:["3. \u53ef\u5199\u4e8b\u4ef6\u8868 (",(0,t.jsx)(n.code,{children:"writable_events"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528\u5206\u5e03\u5f0f\u8868\u5f15\u64ce\u7684 ",(0,t.jsx)(n.code,{children:"writable_events"})," \u8868\u8d1f\u8d23\u6570\u636e\u5206\u53d1\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE writable_events\n(\n    uuid UUID,\n    event String,\n    properties String,\n    timestamp DateTime64(6, 'UTC'),\n    team_id Int64,\n    distinct_id String,\n    elements_chain String,\n    created_at DateTime64(6, 'UTC'),\n    _timestamp DateTime,\n    _offset UInt64\n)\nENGINE = Distributed('posthog', 'posthog', 'sharded_events', sipHash64(distinct_id));\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5173\u952e\u7279\u6027\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u63a5\u6536\u6765\u81ea ",(0,t.jsx)(n.code,{children:"events_mv"})," \u7684\u6570\u636e\u63a8\u9001"]}),"\n",(0,t.jsxs)(n.li,{children:["\u57fa\u4e8e ",(0,t.jsx)(n.code,{children:"distinct_id"})," \u8ba1\u7b97\u54c8\u5e0c\u503c\u8fdb\u884c\u5206\u7247"]}),"\n",(0,t.jsx)(n.li,{children:"\u5c06\u6570\u636e\u8def\u7531\u5230\u6b63\u786e\u7684\u5206\u7247\u8282\u70b9"}),"\n",(0,t.jsx)(n.li,{children:"\u4e0d\u5305\u542b\u7269\u5316\u5217\u4ee5\u4f18\u5316\u63d2\u5165\u6027\u80fd"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"4-\u5206\u7247\u4e8b\u4ef6\u8868-sharded_events",children:["4. \u5206\u7247\u4e8b\u4ef6\u8868 (",(0,t.jsx)(n.code,{children:"sharded_events"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4f7f\u7528 ReplicatedReplacingMergeTree \u5f15\u64ce\u7684 ",(0,t.jsx)(n.code,{children:"sharded_events"})," \u8868\u5b58\u50a8\u5b9e\u9645\u6570\u636e\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE sharded_events\n(\n    uuid UUID,\n    event String,\n    properties String,\n    timestamp DateTime64(6, 'UTC'),\n    team_id Int64,\n    distinct_id String,\n    elements_chain String,\n    created_at DateTime64(6, 'UTC'),\n    _timestamp DateTime,\n    _offset UInt64\n)\nENGINE = ReplicatedReplacingMergeTree('/clickhouse/tables/{shard}/posthog.sharded_events', '{replica}', created_at)\nPARTITION BY toYYYYMM(timestamp)\nORDER BY (team_id, toDate(timestamp), event, uuid);\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u7279\u70b9\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u652f\u6301\u6570\u636e\u5206\u7247\u548c\u590d\u5236"}),"\n",(0,t.jsxs)(n.li,{children:["\u901a\u8fc7 ",(0,t.jsx)(n.code,{children:"events"})," \u8868\u95f4\u63a5\u67e5\u8be2"]}),"\n",(0,t.jsx)(n.li,{children:"\u4f7f\u7528\u6708\u4efd\u4f5c\u4e3a\u5206\u533a\u952e"}),"\n",(0,t.jsx)(n.li,{children:"\u4f18\u5316\u7684\u6392\u5e8f\u952e\u8bbe\u8ba1"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"5-\u67e5\u8be2\u4e8b\u4ef6\u8868-events",children:["5. \u67e5\u8be2\u4e8b\u4ef6\u8868 (",(0,t.jsx)(n.code,{children:"events"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0e ",(0,t.jsx)(n.code,{children:"writable_events"})," \u7c7b\u4f3c\uff0c",(0,t.jsx)(n.code,{children:"events"})," \u8868\u4e5f\u4f7f\u7528\u5206\u5e03\u5f0f\u8868\u5f15\u64ce\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE events\n(\n    uuid UUID,\n    event String,\n    properties String,\n    timestamp DateTime64(6, 'UTC'),\n    team_id Int64,\n    distinct_id String,\n    elements_chain String,\n    created_at DateTime64(6, 'UTC'),\n    _timestamp DateTime,\n    _offset UInt64\n)\nENGINE = Distributed('posthog', 'posthog', 'sharded_events', sipHash64(distinct_id));\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u529f\u80fd\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5904\u7406\u5e94\u7528\u5c42\u67e5\u8be2"}),"\n",(0,t.jsx)(n.li,{children:"\u81ea\u52a8\u786e\u5b9a\u8981\u67e5\u8be2\u7684\u5206\u7247"}),"\n",(0,t.jsx)(n.li,{children:"\u805a\u5408\u6765\u81ea\u5404\u5206\u7247\u7684\u7ed3\u679c"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u7528\u6237\u6570\u636e\u5904\u7406",children:"\u7528\u6237\u6570\u636e\u5904\u7406"}),"\n",(0,t.jsx)(n.h3,{id:"\u7528\u6237\u8868\u8bbe\u8ba1",children:"\u7528\u6237\u8868\u8bbe\u8ba1"}),"\n",(0,t.jsxs)(n.p,{children:["PostgreSQL \u662f\u7528\u6237\u4fe1\u606f\u548c ",(0,t.jsx)(n.code,{children:"distinct_id"})," \u6620\u5c04\u7684\u4e3b\u6570\u636e\u6e90\uff0c\u4f46\u4e3a\u4e86\u63d0\u5347\u67e5\u8be2\u6027\u80fd\uff0c\u8fd9\u4e9b\u6570\u636e\u4f1a\u88ab\u590d\u5236\u5230 ClickHouse\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE person\n(\n    id UUID,\n    created_at DateTime64(6, 'UTC'),\n    team_id Int64,\n    properties String,\n    is_identified Int8,\n    is_deleted Int8,\n    version UInt64\n)\nENGINE = ReplicatedReplacingMergeTree('/clickhouse/tables/{shard}/posthog.person', '{replica}', version)\nORDER BY (team_id, id);\n\nCREATE TABLE person_distinct_id\n(\n    distinct_id String,\n    person_id UUID,\n    team_id Int64,\n    is_deleted Int8,\n    version UInt64\n)\nENGINE = ReplicatedReplacingMergeTree('/clickhouse/tables/{shard}/posthog.person_distinct_id', '{replica}', version)\nORDER BY (team_id, distinct_id);\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u7279\u70b9\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4f7f\u7528 ReplacingMergeTree \u5f15\u64ce"}),"\n",(0,t.jsx)(n.li,{children:"\u901a\u8fc7 version \u5217\u5904\u7406\u66f4\u65b0"}),"\n",(0,t.jsx)(n.li,{children:"\u5728\u5206\u7247\u8bbe\u7f6e\u4e2d\u5b8c\u5168\u590d\u5236\u5230\u6bcf\u4e2a\u8282\u70b9"}),"\n",(0,t.jsx)(n.li,{children:"\u907f\u514d\u8de8\u7f51\u7edc JOIN \u64cd\u4f5c"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u6027\u80fd\u4f18\u5316",children:"\u6027\u80fd\u4f18\u5316"}),"\n",(0,t.jsx)(n.h3,{id:"1-\u67e5\u8be2\u4f18\u5316",children:"1. \u67e5\u8be2\u4f18\u5316"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- \u4f7f\u7528\u7269\u5316\u89c6\u56fe\u4f18\u5316\u5e38\u89c1\u67e5\u8be2\nCREATE MATERIALIZED VIEW events_daily\nENGINE = SummingMergeTree\nPARTITION BY toYYYYMM(date)\nORDER BY (team_id, date, event)\nAS SELECT\n    team_id,\n    toDate(timestamp) as date,\n    event,\n    count() as event_count\nFROM events\nGROUP BY team_id, date, event;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-\u5206\u7247\u4f18\u5316",children:"2. \u5206\u7247\u4f18\u5316"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- \u914d\u7f6e\u5206\u7247\u6743\u91cd\nSET insert_distributed_sync = 1;\nSET optimize_skip_unused_shards = 1;\nSET optimize_distributed_group_by_sharding_key = 1;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-\u6570\u636e\u538b\u7f29",children:"3. \u6570\u636e\u538b\u7f29"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE events\n    MODIFY SETTING min_bytes_for_wide_part = 10485760,\n    min_rows_for_wide_part = 512000;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u76d1\u63a7\u548c\u7ef4\u62a4",children:"\u76d1\u63a7\u548c\u7ef4\u62a4"}),"\n",(0,t.jsx)(n.h3,{id:"1-\u7cfb\u7edf\u76d1\u63a7",children:"1. \u7cfb\u7edf\u76d1\u63a7"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- \u76d1\u63a7\u5206\u7247\u72b6\u6001\nSELECT\n    shard_num,\n    shard_weight,\n    replica_num,\n    is_local\nFROM system.clusters\nWHERE cluster = 'posthog';\n\n-- \u76d1\u63a7\u8868\u5927\u5c0f\nSELECT\n    partition,\n    name,\n    rows,\n    bytes_on_disk\nFROM system.parts\nWHERE table = 'events'\nORDER BY partition;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-\u6027\u80fd\u76d1\u63a7",children:"2. \u6027\u80fd\u76d1\u63a7"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u8be2\u6027\u80fd\u5206\u6790\nSELECT\n    query,\n    read_rows,\n    read_bytes,\n    memory_usage,\n    query_duration_ms\nFROM system.query_log\nWHERE type = 'QueryFinish'\nORDER BY query_duration_ms DESC\nLIMIT 10;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6570\u636e\u5199\u5165"}),"\uff1a"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u907f\u514d\u5199\u5165\u91cd\u590d\u6570\u636e"}),"\n",(0,t.jsx)(n.li,{children:"\u4f7f\u7528\u6279\u91cf\u63d2\u5165"}),"\n",(0,t.jsx)(n.li,{children:"\u5408\u7406\u8bbe\u7f6e\u5206\u533a\u7b56\u7565"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u67e5\u8be2\u4f18\u5316"}),"\uff1a"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5229\u7528\u7269\u5316\u89c6\u56fe"}),"\n",(0,t.jsx)(n.li,{children:"\u5408\u7406\u4f7f\u7528\u5206\u7247\u952e"}),"\n",(0,t.jsx)(n.li,{children:"\u4f18\u5316 JOIN \u64cd\u4f5c"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u8fd0\u7ef4\u7ba1\u7406"}),"\uff1a"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5b9a\u671f\u76d1\u63a7\u5206\u7247\u5e73\u8861"}),"\n",(0,t.jsx)(n.li,{children:"\u53ca\u65f6\u6e05\u7406\u8fc7\u671f\u6570\u636e"}),"\n",(0,t.jsx)(n.li,{children:"\u4fdd\u6301\u9002\u5f53\u7684\u526f\u672c\u6570"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u6269\u5c55\u9605\u8bfb",children:"\u6269\u5c55\u9605\u8bfb"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://clickhouse.com/docs/en/intro",children:"ClickHouse \u5b98\u65b9\u6587\u6863"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/engineering/clickhouse/data-ingestion",children:"PostHog \u6570\u636e\u6444\u5165\u6307\u5357"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://clickhouse.com/docs/en/operations/performance",children:"ClickHouse \u6027\u80fd\u4f18\u5316"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>r});var i=s(96540);const t={},l=i.createContext(t);function d(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);