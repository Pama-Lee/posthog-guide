/*! For license information please see 5700.44f37fb2.js.LICENSE.txt */
(self.webpackChunkposthog_guide=self.webpackChunkposthog_guide||[]).push([[5700],{76246:(e,t,n)=>{e.exports={graphlib:n(68191),layout:n(78202),debug:n(78909),util:{time:n(3988).time,notime:n(3988).notime},version:n(87038)}},96822:(e,t,n)=>{"use strict";var o=n(56857),r=n(22031);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?r(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function a(i){o.has(r,i)||(r[i]=!0,n[i]=!0,o.forEach(e.outEdges(i),(function(e){o.has(n,e.w)?t.push(e):a(e.w)})),delete n[i])}return o.forEach(e.nodes(),a),t}(e);o.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,o.uniqueId("rev"))}))},undo:function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var o=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,o)}}))}}},40135:(e,t,n)=>{var o=n(56857),r=n(3988);function a(e,t,n,o,a,i){var s={width:0,height:0,rank:i,borderType:t},c=a[t][i-1],u=r.addDummyNode(e,"border",s,n);a[t][i]=u,e.setParent(u,o),c&&e.setEdge(c,u,{weight:1})}e.exports=function(e){o.forEach(e.children(),(function t(n){var r=e.children(n),i=e.node(n);if(r.length&&o.forEach(r,t),o.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,c=i.maxRank+1;s<c;++s)a(e,"borderLeft","_bl",n,i,s),a(e,"borderRight","_br",n,i,s)}}))}},4850:(e,t,n)=>{"use strict";var o=n(56857);function r(e){o.forEach(e.nodes(),(function(t){a(e.node(t))})),o.forEach(e.edges(),(function(t){a(e.edge(t))}))}function a(e){var t=e.width;e.width=e.height,e.height=t}function i(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||r(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){o.forEach(e.nodes(),(function(t){i(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,i),o.has(n,"y")&&i(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){o.forEach(e.nodes(),(function(t){s(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,s),o.has(n,"x")&&s(n)}))}(e),r(e))}}},39859:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},78909:(e,t,n)=>{var o=n(56857),r=n(3988),a=n(68191).Graph;e.exports={debugOrdering:function(e){var t=r.buildLayerMatrix(e),n=new a({compound:!0,multigraph:!0}).setGraph({});return o.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),o.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),o.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),o.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},68191:(e,t,n)=>{var o;try{o=n(38362)}catch(r){}o||(o=window.graphlib),e.exports=o},22031:(e,t,n)=>{var o=n(56857),r=n(68191).Graph,a=n(39859);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new r,i=0,s=0;o.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),o.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,r=t(e),a=o+r;n.setEdge(e.v,e.w,a),s=Math.max(s,n.node(e.v).out+=r),i=Math.max(i,n.node(e.w).in+=r)}));var u=o.range(s+i+3).map((function(){return new a})),l=i+1;return o.forEach(n.nodes(),(function(e){c(u,l,n.node(e))})),{graph:n,buckets:u,zeroIdx:l}}(e,t||i),u=function(e,t,n){var o,r=[],a=t[t.length-1],i=t[0];for(;e.nodeCount();){for(;o=i.dequeue();)s(e,t,n,o);for(;o=a.dequeue();)s(e,t,n,o);if(e.nodeCount())for(var c=t.length-2;c>0;--c)if(o=t[c].dequeue()){r=r.concat(s(e,t,n,o,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return o.flatten(o.map(u,(function(t){return e.outEdges(t.v,t.w)})),!0)};var i=o.constant(1);function s(e,t,n,r,a){var i=a?[]:void 0;return o.forEach(e.inEdges(r.v),(function(o){var r=e.edge(o),s=e.node(o.v);a&&i.push({v:o.v,w:o.w}),s.out-=r,c(t,n,s)})),o.forEach(e.outEdges(r.v),(function(o){var r=e.edge(o),a=o.w,i=e.node(a);i.in-=r,c(t,n,i)})),e.removeNode(r.v),i}function c(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},78202:(e,t,n)=>{"use strict";var o=n(56857),r=n(96822),a=n(18209),i=n(79361),s=n(3988).normalizeRanks,c=n(62948),u=n(3988).removeEmptyRanks,l=n(56353),d=n(40135),f=n(4850),h=n(51453),p=n(73776),g=n(3988),v=n(68191).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new v({multigraph:!0,compound:!0}),n=N(e.graph());return t.setGraph(o.merge({},y,_(n,m),o.pick(n,b))),o.forEach(e.nodes(),(function(n){var r=N(e.node(n));t.setNode(n,o.defaults(_(r,x),E)),t.setParent(n,e.parent(n))})),o.forEach(e.edges(),(function(n){var r=N(e.edge(n));t.setEdge(n,o.merge({},S,_(r,w),o.pick(r,C)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,o.forEach(e.edges(),(function(n){var o=e.edge(n);o.minlen*=2,"c"!==o.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?o.width+=o.labeloffset:o.height+=o.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){o.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){r.run(e)})),t("    nestingGraph.run",(function(){l.run(e)})),t("    rank",(function(){i(g.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var o=e.node(t.v),r={rank:(e.node(t.w).rank-o.rank)/2+o.rank,e:t};g.addDummyNode(e,"edge-proxy",r,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){u(e)})),t("    nestingGraph.cleanup",(function(){l.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;o.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=o.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){a.run(e)})),t("    parentDummyChains",(function(){c(e)})),t("    addBorderSegments",(function(){d(e)})),t("    order",(function(){h(e)})),t("    insertSelfEdges",(function(){!function(e){var t=g.buildLayerMatrix(e);o.forEach(t,(function(t){var n=0;o.forEach(t,(function(t,r){var a=e.node(t);a.order=r+n,o.forEach(a.selfEdges,(function(t){g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:a.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete a.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){f.adjust(e)})),t("    position",(function(){p(e)})),t("    positionSelfEdges",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var o=e.node(n.e.v),r=o.x+o.width/2,a=o.y,i=n.x-r,s=o.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*i/3,y:a-s},{x:r+5*i/6,y:a-s},{x:r+i,y:a},{x:r+5*i/6,y:a+s},{x:r+2*i/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){o.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),a=e.node(n.borderBottom),i=e.node(o.last(n.borderLeft)),s=e.node(o.last(n.borderRight));n.width=Math.abs(s.x-i.x),n.height=Math.abs(a.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}})),o.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){a.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(o.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){f.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,a=0,i=e.graph(),s=i.marginx||0,c=i.marginy||0;function u(e){var o=e.x,i=e.y,s=e.width,c=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,i-c/2),a=Math.max(a,i+c/2)}o.forEach(e.nodes(),(function(t){u(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.has(n,"x")&&u(n)})),t-=s,r-=c,o.forEach(e.nodes(),(function(n){var o=e.node(n);o.x-=t,o.y-=r})),o.forEach(e.edges(),(function(n){var a=e.edge(n);o.forEach(a.points,(function(e){e.x-=t,e.y-=r})),o.has(a,"x")&&(a.x-=t),o.has(a,"y")&&(a.y-=r)})),i.width=n-t+s,i.height=a-r+c}(e)})),t("    assignNodeIntersects",(function(){!function(e){o.forEach(e.edges(),(function(t){var n,o,r=e.edge(t),a=e.node(t.v),i=e.node(t.w);r.points?(n=r.points[0],o=r.points[r.points.length-1]):(r.points=[],n=i,o=a),r.points.unshift(g.intersectRect(a,n)),r.points.push(g.intersectRect(i,o))}))}(e)})),t("    reversePoints",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){r.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){o.forEach(e.nodes(),(function(n){var o=e.node(n),r=t.node(n);o&&(o.x=r.x,o.y=r.y,t.children(n).length&&(o.width=r.width,o.height=r.height))})),o.forEach(e.edges(),(function(n){var r=e.edge(n),a=t.edge(n);r.points=a.points,o.has(a,"x")&&(r.x=a.x,r.y=a.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],E={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function _(e,t){return o.mapValues(o.pick(e,t),Number)}function N(e){var t={};return o.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},56857:(e,t,n)=>{var o;try{o={cloneDeep:n(88055),constant:n(37334),defaults:n(84684),each:n(76135),filter:n(87612),find:n(7309),flatten:n(35970),forEach:n(39754),forIn:n(52420),has:n(61448),isUndefined:n(62216),last:n(68090),map:n(55378),mapValues:n(73916),max:n(94506),merge:n(55364),min:n(31684),minBy:n(36533),now:n(10124),pick:n(44383),range:n(23181),reduce:n(40860),sortBy:n(33031),uniqueId:n(97200),values:n(35880),zipObject:n(47248)}}catch(r){}o||(o=window._),e.exports=o},56353:(e,t,n)=>{var o=n(56857),r=n(3988);function a(e,t,n,i,s,c,u){var l=e.children(u);if(l.length){var d=r.addBorderNode(e,"_bt"),f=r.addBorderNode(e,"_bb"),h=e.node(u);e.setParent(d,u),h.borderTop=d,e.setParent(f,u),h.borderBottom=f,o.forEach(l,(function(o){a(e,t,n,i,s,c,o);var r=e.node(o),l=r.borderTop?r.borderTop:o,h=r.borderBottom?r.borderBottom:o,p=r.borderTop?i:2*i,g=l!==h?1:s-c[u]+1;e.setEdge(d,l,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(h,f,{weight:p,minlen:g,nestingEdge:!0})})),e.parent(u)||e.setEdge(t,d,{weight:0,minlen:s+c[u]})}else u!==t&&e.setEdge(t,u,{weight:0,minlen:n})}e.exports={run:function(e){var t=r.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,a){var i=e.children(r);i&&i.length&&o.forEach(i,(function(e){n(e,a+1)})),t[r]=a}return o.forEach(e.children(),(function(e){n(e,1)})),t}(e),i=o.max(o.values(n))-1,s=2*i+1;e.graph().nestingRoot=t,o.forEach(e.edges(),(function(t){e.edge(t).minlen*=s}));var c=function(e){return o.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;o.forEach(e.children(),(function(o){a(e,t,s,c,i,n,o)})),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,o.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},18209:(e,t,n)=>{"use strict";var o=n(56857),r=n(3988);e.exports={run:function(e){e.graph().dummyChains=[],o.forEach(e.edges(),(function(t){!function(e,t){var n,o,a,i=t.v,s=e.node(i).rank,c=t.w,u=e.node(c).rank,l=t.name,d=e.edge(t),f=d.labelRank;if(u===s+1)return;for(e.removeEdge(t),a=0,++s;s<u;++a,++s)d.points=[],o={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=r.addDummyNode(e,"edge",o,"_d"),s===f&&(o.width=d.width,o.height=d.height,o.dummy="edge-label",o.labelpos=d.labelpos),e.setEdge(i,n,{weight:d.weight},l),0===a&&e.graph().dummyChains.push(n),i=n;e.setEdge(i,c,{weight:d.weight},l)}(e,t)}))},undo:function(e){o.forEach(e.graph().dummyChains,(function(t){var n,o=e.node(t),r=o.edgeLabel;for(e.setEdge(o.edgeObj,r);o.dummy;)n=e.successors(t)[0],e.removeNode(t),r.points.push({x:o.x,y:o.y}),"edge-label"===o.dummy&&(r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height),t=n,o=e.node(t)}))}}},94384:(e,t,n)=>{var o=n(56857);e.exports=function(e,t,n){var r,a={};o.forEach(n,(function(n){for(var o,i,s=e.parent(n);s;){if((o=e.parent(s))?(i=a[o],a[o]=s):(i=r,r=s),i&&i!==s)return void t.setEdge(i,s);s=o}}))}},33860:(e,t,n)=>{var o=n(56857);e.exports=function(e,t){return o.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=o.reduce(n,(function(t,n){var o=e.edge(n),r=e.node(n.v);return{sum:t.sum+o.weight*r.order,weight:t.weight+o.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}},97860:(e,t,n)=>{var o=n(56857),r=n(68191).Graph;e.exports=function(e,t,n){var a=function(e){var t;for(;e.hasNode(t=o.uniqueId("_root")););return t}(e),i=new r({compound:!0}).setGraph({root:a}).setDefaultNodeLabel((function(t){return e.node(t)}));return o.forEach(e.nodes(),(function(r){var s=e.node(r),c=e.parent(r);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(r),i.setParent(r,c||a),o.forEach(e[n](r),(function(t){var n=t.v===r?t.w:t.v,a=i.edge(n,r),s=o.isUndefined(a)?0:a.weight;i.setEdge(n,r,{weight:e.edge(t).weight+s})})),o.has(s,"minRank")&&i.setNode(r,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),i}},36639:(e,t,n)=>{"use strict";var o=n(56857);function r(e,t,n){for(var r=o.zipObject(n,o.map(n,(function(e,t){return t}))),a=o.flatten(o.map(t,(function(t){return o.sortBy(o.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),i=1;i<n.length;)i<<=1;var s=2*i-1;i-=1;var c=o.map(new Array(s),(function(){return 0})),u=0;return o.forEach(a.forEach((function(e){var t=e.pos+i;c[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=c[t+1]),c[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}e.exports=function(e,t){for(var n=0,o=1;o<t.length;++o)n+=r(e,t[o-1],t[o]);return n}},51453:(e,t,n)=>{"use strict";var o=n(56857),r=n(98918),a=n(36639),i=n(14520),s=n(97860),c=n(94384),u=n(68191).Graph,l=n(3988);function d(e,t,n){return o.map(t,(function(t){return s(e,t,n)}))}function f(e,t){var n=new u;o.forEach(e,(function(e){var r=e.graph().root,a=i(e,r,n,t);o.forEach(a.vs,(function(t,n){e.node(t).order=n})),c(e,n,a.vs)}))}function h(e,t){o.forEach(t,(function(t){o.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=l.maxRank(e),n=d(e,o.range(1,t+1),"inEdges"),i=d(e,o.range(t-1,-1,-1),"outEdges"),s=r(e);h(e,s);for(var c,u=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){f(p%2?n:i,p%4>=2),s=l.buildLayerMatrix(e);var v=a(e,s);v<u&&(g=0,c=o.cloneDeep(s),u=v)}h(e,c)}},98918:(e,t,n)=>{"use strict";var o=n(56857);e.exports=function(e){var t={},n=o.filter(e.nodes(),(function(t){return!e.children(t).length})),r=o.max(o.map(n,(function(t){return e.node(t).rank}))),a=o.map(o.range(r+1),(function(){return[]}));var i=o.sortBy(n,(function(t){return e.node(t).rank}));return o.forEach(i,(function n(r){if(o.has(t,r))return;t[r]=!0;var i=e.node(r);a[i.rank].push(r),o.forEach(e.successors(r),n)})),a}},44959:(e,t,n)=>{"use strict";var o=n(56857);e.exports=function(e,t){var n={};return o.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};o.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),o.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];o.isUndefined(t)||o.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(o.isUndefined(t.barycenter)||o.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,o=0;e.weight&&(n+=e.barycenter*e.weight,o+=e.weight);t.weight&&(n+=t.barycenter*t.weight,o+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/o,e.weight=o,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var a=e.pop();t.push(a),o.forEach(a.in.reverse(),n(a)),o.forEach(a.out,r(a))}return o.map(o.filter(t,(function(e){return!e.merged})),(function(e){return o.pick(e,["vs","i","barycenter","weight"])}))}(o.filter(n,(function(e){return!e.indegree})))}},14520:(e,t,n)=>{var o=n(56857),r=n(33860),a=n(44959),i=n(35169);e.exports=function e(t,n,s,c){var u=t.children(n),l=t.node(n),d=l?l.borderLeft:void 0,f=l?l.borderRight:void 0,h={};d&&(u=o.filter(u,(function(e){return e!==d&&e!==f})));var p=r(t,u);o.forEach(p,(function(n){if(t.children(n.v).length){var r=e(t,n.v,s,c);h[n.v]=r,o.has(r,"barycenter")&&(a=n,i=r,o.isUndefined(a.barycenter)?(a.barycenter=i.barycenter,a.weight=i.weight):(a.barycenter=(a.barycenter*a.weight+i.barycenter*i.weight)/(a.weight+i.weight),a.weight+=i.weight))}var a,i}));var g=a(p,s);!function(e,t){o.forEach(e,(function(e){e.vs=o.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(g,h);var v=i(g,c);if(d&&(v.vs=o.flatten([d,v.vs,f],!0),t.predecessors(d).length)){var m=t.node(t.predecessors(d)[0]),y=t.node(t.predecessors(f)[0]);o.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+m.order+y.order)/(v.weight+2),v.weight+=2}return v}},35169:(e,t,n)=>{var o=n(56857),r=n(3988);function a(e,t,n){for(var r;t.length&&(r=o.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n=r.partition(e,(function(e){return o.has(e,"barycenter")})),i=n.lhs,s=o.sortBy(n.rhs,(function(e){return-e.i})),c=[],u=0,l=0,d=0;i.sort((f=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:f?t.i-e.i:e.i-t.i})),d=a(c,s,d),o.forEach(i,(function(e){d+=e.vs.length,c.push(e.vs),u+=e.barycenter*e.weight,l+=e.weight,d=a(c,s,d)}));var f;var h={vs:o.flatten(c,!0)};l&&(h.barycenter=u/l,h.weight=l);return h}},62948:(e,t,n)=>{var o=n(56857);e.exports=function(e){var t=function(e){var t={},n=0;function r(a){var i=n;o.forEach(e.children(a),r),t[a]={low:i,lim:n++}}return o.forEach(e.children(),r),t}(e);o.forEach(e.graph().dummyChains,(function(n){for(var o=e.node(n),r=o.edgeObj,a=function(e,t,n,o){var r,a,i=[],s=[],c=Math.min(t[n].low,t[o].low),u=Math.max(t[n].lim,t[o].lim);r=n;do{r=e.parent(r),i.push(r)}while(r&&(t[r].low>c||u>t[r].lim));a=r,r=o;for(;(r=e.parent(r))!==a;)s.push(r);return{path:i.concat(s.reverse()),lca:a}}(e,t,r.v,r.w),i=a.path,s=a.lca,c=0,u=i[c],l=!0;n!==r.w;){if(o=e.node(n),l){for(;(u=i[c])!==s&&e.node(u).maxRank<o.rank;)c++;u===s&&(l=!1)}if(!l){for(;c<i.length-1&&e.node(u=i[c+1]).minRank<=o.rank;)c++;u=i[c]}e.setParent(n,u),n=e.successors(n)[0]}}))}},39741:(e,t,n)=>{"use strict";var o=n(56857),r=n(68191).Graph,a=n(3988);function i(e,t){var n={};return o.reduce(t,(function(t,r){var a=0,i=0,s=t.length,u=o.last(r);return o.forEach(r,(function(t,l){var d=function(e,t){if(e.node(t).dummy)return o.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),f=d?e.node(d).order:s;(d||t===u)&&(o.forEach(r.slice(i,l+1),(function(t){o.forEach(e.predecessors(t),(function(o){var r=e.node(o),i=r.order;!(i<a||f<i)||r.dummy&&e.node(t).dummy||c(n,o,t)}))})),i=l+1,a=f)})),r})),n}function s(e,t){var n={};function r(t,r,a,i,s){var u;o.forEach(o.range(r,a),(function(r){u=t[r],e.node(u).dummy&&o.forEach(e.predecessors(u),(function(t){var o=e.node(t);o.dummy&&(o.order<i||o.order>s)&&c(n,t,u)}))}))}return o.reduce(t,(function(t,n){var a,i=-1,s=0;return o.forEach(n,(function(o,c){if("border"===e.node(o).dummy){var u=e.predecessors(o);u.length&&(a=e.node(u[0]).order,r(n,s,c,i,a),s=c,i=a)}r(n,s,n.length,a,t.length)})),n})),n}function c(e,t,n){if(t>n){var o=t;t=n,n=o}var r=e[t];r||(e[t]=r={}),r[n]=!0}function u(e,t,n){if(t>n){var r=t;t=n,n=r}return o.has(e[t],n)}function l(e,t,n,r){var a={},i={},s={};return o.forEach(t,(function(e){o.forEach(e,(function(e,t){a[e]=e,i[e]=e,s[e]=t}))})),o.forEach(t,(function(e){var t=-1;o.forEach(e,(function(e){var c=r(e);if(c.length){c=o.sortBy(c,(function(e){return s[e]}));for(var l=(c.length-1)/2,d=Math.floor(l),f=Math.ceil(l);d<=f;++d){var h=c[d];i[e]===e&&t<s[h]&&!u(n,e,h)&&(i[h]=e,i[e]=a[e]=a[h],t=s[h])}}}))})),{root:a,align:i}}function d(e,t,n,a,i){var s={},c=function(e,t,n,a){var i=new r,s=e.graph(),c=function(e,t,n){return function(r,a,i){var s,c=r.node(a),u=r.node(i),l=0;if(l+=c.width/2,o.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=-c.width/2;break;case"r":s=c.width/2}if(s&&(l+=n?s:-s),s=0,l+=(c.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,o.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=u.width/2;break;case"r":s=-u.width/2}return s&&(l+=n?s:-s),s=0,l}}(s.nodesep,s.edgesep,a);return o.forEach(t,(function(t){var r;o.forEach(t,(function(t){var o=n[t];if(i.setNode(o),r){var a=n[r],s=i.edge(a,o);i.setEdge(a,o,Math.max(c(e,t,r),s||0))}r=t}))})),i}(e,t,n,i),u=i?"borderLeft":"borderRight";function l(e,t){for(var n=c.nodes(),o=n.pop(),r={};o;)r[o]?e(o):(r[o]=!0,n.push(o),n=n.concat(t(o))),o=n.pop()}return l((function(e){s[e]=c.inEdges(e).reduce((function(e,t){return Math.max(e,s[t.v]+c.edge(t))}),0)}),c.predecessors.bind(c)),l((function(t){var n=c.outEdges(t).reduce((function(e,t){return Math.min(e,s[t.w]-c.edge(t))}),Number.POSITIVE_INFINITY),o=e.node(t);n!==Number.POSITIVE_INFINITY&&o.borderType!==u&&(s[t]=Math.max(s[t],n))}),c.successors.bind(c)),o.forEach(a,(function(e){s[e]=s[n[e]]})),s}function f(e,t){return o.minBy(o.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return o.forIn(t,(function(t,o){var a=function(e,t){return e.node(t).width}(e,o)/2;n=Math.max(t+a,n),r=Math.min(t-a,r)})),n-r}))}function h(e,t){var n=o.values(t),r=o.min(n),a=o.max(n);o.forEach(["u","d"],(function(n){o.forEach(["l","r"],(function(i){var s,c=n+i,u=e[c];if(u!==t){var l=o.values(u);(s="l"===i?r-o.min(l):a-o.max(l))&&(e[c]=o.mapValues(u,(function(e){return e+s})))}}))}))}function p(e,t){return o.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var a=o.sortBy(o.map(e,r));return(a[1]+a[2])/2}))}e.exports={positionX:function(e){var t,n=a.buildLayerMatrix(e),r=o.merge(i(e,n),s(e,n)),c={};o.forEach(["u","d"],(function(a){t="u"===a?n:o.values(n).reverse(),o.forEach(["l","r"],(function(n){"r"===n&&(t=o.map(t,(function(e){return o.values(e).reverse()})));var i=("u"===a?e.predecessors:e.successors).bind(e),s=l(e,t,r,i),u=d(e,t,s.root,s.align,"r"===n);"r"===n&&(u=o.mapValues(u,(function(e){return-e}))),c[a+n]=u}))}));var u=f(e,c);return h(c,u),p(c,e.graph().align)},findType1Conflicts:i,findType2Conflicts:s,addConflict:c,hasConflict:u,verticalAlignment:l,horizontalCompaction:d,alignCoordinates:h,findSmallestWidthAlignment:f,balance:p}},73776:(e,t,n)=>{"use strict";var o=n(56857),r=n(3988),a=n(39741).positionX;e.exports=function(e){(function(e){var t=r.buildLayerMatrix(e),n=e.graph().ranksep,a=0;o.forEach(t,(function(t){var r=o.max(o.map(t,(function(t){return e.node(t).height})));o.forEach(t,(function(t){e.node(t).y=a+r/2})),a+=r+n}))})(e=r.asNonCompoundGraph(e)),o.forEach(a(e),(function(t,n){e.node(n).x=t}))}},38481:(e,t,n)=>{"use strict";var o=n(56857),r=n(68191).Graph,a=n(68073).slack;function i(e,t){return o.forEach(e.nodes(),(function n(r){o.forEach(t.nodeEdges(r),(function(o){var i=o.v,s=r===i?o.w:i;e.hasNode(s)||a(t,o)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()}function s(e,t){return o.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return a(t,n)}))}function c(e,t,n){o.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,o=new r({directed:!1}),u=e.nodes()[0],l=e.nodeCount();o.setNode(u,{});for(;i(o,e)<l;)t=s(o,e),n=o.hasNode(t.v)?a(e,t):-a(e,t),c(o,e,n);return o}},79361:(e,t,n)=>{"use strict";var o=n(68073).longestPath,r=n(38481),a=n(36860);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:s(e);break;case"tight-tree":!function(e){o(e),r(e)}(e);break;case"longest-path":i(e)}};var i=o;function s(e){a(e)}},36860:(e,t,n)=>{"use strict";var o=n(56857),r=n(38481),a=n(68073).slack,i=n(68073).longestPath,s=n(68191).alg.preorder,c=n(68191).alg.postorder,u=n(3988).simplify;function l(e){e=u(e),i(e);var t,n=r(e);for(h(n),d(n,e);t=g(n);)m(n,e,t,v(n,e,t))}function d(e,t){var n=c(e,e.nodes());n=n.slice(0,n.length-1),o.forEach(n,(function(n){!function(e,t,n){var o=e.node(n),r=o.parent;e.edge(n,r).cutvalue=f(e,t,n)}(e,t,n)}))}function f(e,t,n){var r=e.node(n).parent,a=!0,i=t.edge(n,r),s=0;return i||(a=!1,i=t.edge(r,n)),s=i.weight,o.forEach(t.nodeEdges(n),(function(o){var i,c,u=o.v===n,l=u?o.w:o.v;if(l!==r){var d=u===a,f=t.edge(o).weight;if(s+=d?f:-f,i=n,c=l,e.hasEdge(i,c)){var h=e.edge(n,l).cutvalue;s+=d?-h:h}}})),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,r,a){var i=n,s=e.node(r);return t[r]=!0,o.forEach(e.neighbors(r),(function(a){o.has(t,a)||(n=p(e,t,n,a,r))})),s.low=i,s.lim=n++,a?s.parent=a:delete s.parent,n}function g(e){return o.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function v(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),c=e.node(i),u=s,l=!1;s.lim>c.lim&&(u=c,l=!0);var d=o.filter(t.edges(),(function(t){return l===y(e,e.node(t.v),u)&&l!==y(e,e.node(t.w),u)}));return o.minBy(d,(function(e){return a(t,e)}))}function m(e,t,n,r){var a=n.v,i=n.w;e.removeEdge(a,i),e.setEdge(r.v,r.w,{}),h(e),d(e,t),function(e,t){var n=o.find(e.nodes(),(function(e){return!t.node(e).parent})),r=s(e,n);r=r.slice(1),o.forEach(r,(function(n){var o=e.node(n).parent,r=t.edge(n,o),a=!1;r||(r=t.edge(o,n),a=!0),t.node(n).rank=t.node(o).rank+(a?r.minlen:-r.minlen)}))}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=l,l.initLowLimValues=h,l.initCutValues=d,l.calcCutValue=f,l.leaveEdge=g,l.enterEdge=v,l.exchangeEdges=m},68073:(e,t,n)=>{"use strict";var o=n(56857);e.exports={longestPath:function(e){var t={};o.forEach(e.sources(),(function n(r){var a=e.node(r);if(o.has(t,r))return a.rank;t[r]=!0;var i=o.min(o.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),a.rank=i}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},3988:(e,t,n)=>{"use strict";var o=n(56857),r=n(68191).Graph;function a(e,t,n,r){var a;do{a=o.uniqueId(r)}while(e.hasNode(a));return n.dummy=t,e.setNode(a,n),a}function i(e){return o.max(o.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!o.isUndefined(n))return n})))}e.exports={addDummyNode:a,simplify:function(e){var t=(new r).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){var o=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:o.weight+r.weight,minlen:Math.max(o.minlen,r.minlen)})})),t},asNonCompoundGraph:function(e){var t=new r({multigraph:e.isMultigraph()}).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,o,r=e.x,a=e.y,i=t.x-r,s=t.y-a,c=e.width/2,u=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*c>Math.abs(i)*u?(s<0&&(u=-u),n=u*i/s,o=u):(i<0&&(c=-c),n=c,o=c*s/i);return{x:r+n,y:a+o}},buildLayerMatrix:function(e){var t=o.map(o.range(i(e)+1),(function(){return[]}));return o.forEach(e.nodes(),(function(n){var r=e.node(n),a=r.rank;o.isUndefined(a)||(t[a][r.order]=n)})),t},normalizeRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank})));o.forEach(e.nodes(),(function(n){var r=e.node(n);o.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];o.forEach(e.nodes(),(function(o){var r=e.node(o).rank-t;n[r]||(n[r]=[]),n[r].push(o)}));var r=0,a=e.graph().nodeRankFactor;o.forEach(n,(function(t,n){o.isUndefined(t)&&n%a!=0?--r:r&&o.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,o){var r={width:0,height:0};arguments.length>=4&&(r.rank=n,r.order=o);return a(e,"border",r,t)},maxRank:i,partition:function(e,t){var n={lhs:[],rhs:[]};return o.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=o.now();try{return t()}finally{console.log(e+" time: "+(o.now()-n)+"ms")}},notime:function(e,t){return t()}}},87038:e=>{e.exports="0.8.5"},38362:(e,t,n)=>{var o=n(31166);e.exports={Graph:o.Graph,json:n(57494),alg:n(31667),version:o.version}},33619:(e,t,n)=>{var o=n(10117);e.exports=function(e){var t,n={},r=[];function a(r){o.has(n,r)||(n[r]=!0,t.push(r),o.each(e.successors(r),a),o.each(e.predecessors(r),a))}return o.each(e.nodes(),(function(e){t=[],a(e),t.length&&r.push(t)})),r}},29276:(e,t,n)=>{var o=n(10117);function r(e,t,n,a,i,s){o.has(a,t)||(a[t]=!0,n||s.push(t),o.each(i(t),(function(t){r(e,t,n,a,i,s)})),n&&s.push(t))}e.exports=function(e,t,n){o.isArray(t)||(t=[t]);var a=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],s={};return o.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);r(e,t,"post"===n,s,a,i)})),i}},34919:(e,t,n)=>{var o=n(28905),r=n(10117);e.exports=function(e,t,n){return r.transform(e.nodes(),(function(r,a){r[a]=o(e,a,t,n)}),{})}},28905:(e,t,n)=>{var o=n(10117),r=n(71737);e.exports=function(e,t,n,o){return function(e,t,n,o){var a,i,s={},c=new r,u=function(e){var t=e.v!==a?e.v:e.w,o=s[t],r=n(e),u=i.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);u<o.distance&&(o.distance=u,o.predecessor=a,c.decrease(t,u))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},c.add(e,n)}));for(;c.size()>0&&(a=c.removeMin(),(i=s[a]).distance!==Number.POSITIVE_INFINITY);)o(a).forEach(u);return s}(e,String(t),n||a,o||function(t){return e.outEdges(t)})};var a=o.constant(1)},16678:(e,t,n)=>{var o=n(10117),r=n(16291);e.exports=function(e){return o.filter(r(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},73590:(e,t,n)=>{var o=n(10117);e.exports=function(e,t,n){return function(e,t,n){var o={},r=e.nodes();return r.forEach((function(e){o[e]={},o[e][e]={distance:0},r.forEach((function(t){e!==t&&(o[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var r=n.v===e?n.w:n.v,a=t(n);o[e][r]={distance:a,predecessor:e}}))})),r.forEach((function(e){var t=o[e];r.forEach((function(n){var a=o[n];r.forEach((function(n){var o=a[e],r=t[n],i=a[n],s=o.distance+r.distance;s<i.distance&&(i.distance=s,i.predecessor=r.predecessor)}))}))})),o}(e,t||r,n||function(t){return e.outEdges(t)})};var r=o.constant(1)},31667:(e,t,n)=>{e.exports={components:n(33619),dijkstra:n(28905),dijkstraAll:n(34919),findCycles:n(16678),floydWarshall:n(73590),isAcyclic:n(60498),postorder:n(31045),preorder:n(46016),prim:n(24423),tarjan:n(16291),topsort:n(29888)}},60498:(e,t,n)=>{var o=n(29888);e.exports=function(e){try{o(e)}catch(t){if(t instanceof o.CycleException)return!1;throw t}return!0}},31045:(e,t,n)=>{var o=n(29276);e.exports=function(e,t){return o(e,t,"post")}},46016:(e,t,n)=>{var o=n(29276);e.exports=function(e,t){return o(e,t,"pre")}},24423:(e,t,n)=>{var o=n(10117),r=n(66454),a=n(71737);e.exports=function(e,t){var n,i=new r,s={},c=new a;function u(e){var o=e.v===n?e.w:e.v,r=c.priority(o);if(void 0!==r){var a=t(e);a<r&&(s[o]=n,c.decrease(o,a))}}if(0===e.nodeCount())return i;o.each(e.nodes(),(function(e){c.add(e,Number.POSITIVE_INFINITY),i.setNode(e)})),c.decrease(e.nodes()[0],0);var l=!1;for(;c.size()>0;){if(n=c.removeMin(),o.has(s,n))i.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(n).forEach(u)}return i}},16291:(e,t,n)=>{var o=n(10117);e.exports=function(e){var t=0,n=[],r={},a=[];function i(s){var c=r[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){o.has(r,e)?r[e].onStack&&(c.lowlink=Math.min(c.lowlink,r[e].index)):(i(e),c.lowlink=Math.min(c.lowlink,r[e].lowlink))})),c.lowlink===c.index){var u,l=[];do{u=n.pop(),r[u].onStack=!1,l.push(u)}while(s!==u);a.push(l)}}return e.nodes().forEach((function(e){o.has(r,e)||i(e)})),a}},29888:(e,t,n)=>{var o=n(10117);function r(e){var t={},n={},r=[];if(o.each(e.sinks(),(function i(s){if(o.has(n,s))throw new a;o.has(t,s)||(n[s]=!0,t[s]=!0,o.each(e.predecessors(s),i),delete n[s],r.push(s))})),o.size(t)!==e.nodeCount())throw new a;return r}function a(){}e.exports=r,r.CycleException=a,a.prototype=new Error},71737:(e,t,n)=>{var o=n(10117);function r(){this._arr=[],this._keyIndices={}}e.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},r.prototype.has=function(e){return o.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!o.has(n,e)){var r=this._arr,a=r.length;return n[e]=a,r.push({key:e,priority:t}),this._decrease(a),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,o=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,o<t.length&&(r=t[o].priority<t[r].priority?o:r),r!==e&&(this._swap(e,r),this._heapify(r)))},r.prototype._decrease=function(e){for(var t,n=this._arr,o=n[e].priority;0!==e&&!(n[t=e>>1].priority<o);)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,o=this._keyIndices,r=n[e],a=n[t];n[e]=a,n[t]=r,o[a.key]=e,o[r.key]=t}},66454:(e,t,n)=>{"use strict";var o=n(10117);e.exports=a;var r="\0";function a(e){this._isDirected=!o.has(e,"directed")||e.directed,this._isMultigraph=!!o.has(e,"multigraph")&&e.multigraph,this._isCompound=!!o.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function c(e,t,n,r){var a=""+t,i=""+n;if(!e&&a>i){var s=a;a=i,i=s}return a+"\x01"+i+"\x01"+(o.isUndefined(r)?"\0":r)}function u(e,t){return c(e,t.v,t.w,t.name)}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(e){return this._label=e,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultNodeLabelFn=e,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return o.keys(this._nodes)},a.prototype.sources=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._in[t])}))},a.prototype.sinks=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._out[t])}))},a.prototype.setNodes=function(e,t){var n=arguments,r=this;return o.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},a.prototype.setNode=function(e,t){return o.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children[r][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},a.prototype.node=function(e){return this._nodes[e]},a.prototype.hasNode=function(e){return o.has(this._nodes,e)},a.prototype.removeNode=function(e){var t=this;if(o.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],o.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),o.each(o.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],o.each(o.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},a.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(t))t=r;else{for(var n=t+="";!o.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},a.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},a.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}},a.prototype.children=function(e){if(o.isUndefined(e)&&(e=r),this._isCompound){var t=this._children[e];if(t)return o.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}},a.prototype.predecessors=function(e){var t=this._preds[e];if(t)return o.keys(t)},a.prototype.successors=function(e){var t=this._sucs[e];if(t)return o.keys(t)},a.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return o.union(t,this.successors(e))},a.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},a.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;o.each(this._nodes,(function(n,o){e(o)&&t.setNode(o,n)})),o.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function a(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:a(o)}return this._isCompound&&o.each(t.nodes(),(function(e){t.setParent(e,a(e))})),t},a.prototype.setDefaultEdgeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultEdgeLabelFn=e,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return o.values(this._edgeObjs)},a.prototype.setPath=function(e,t){var n=this,r=arguments;return o.reduce(e,(function(e,o){return r.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o})),this},a.prototype.setEdge=function(){var e,t,n,r,a=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(r=arguments[1],a=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],a=!0)),e=""+e,t=""+t,o.isUndefined(n)||(n=""+n);var u=c(this._isDirected,e,t,n);if(o.has(this._edgeLabels,u))return a&&(this._edgeLabels[u]=r),this;if(!o.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=a?r:this._defaultEdgeLabelFn(e,t,n);var l=function(e,t,n,o){var r=""+t,a=""+n;if(!e&&r>a){var i=r;r=a,a=i}var s={v:r,w:a};o&&(s.name=o);return s}(this._isDirected,e,t,n);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[u]=l,i(this._preds[t],e),i(this._sucs[e],t),this._in[t][u]=l,this._out[e][u]=l,this._edgeCount++,this},a.prototype.edge=function(e,t,n){var o=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return this._edgeLabels[o]},a.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return o.has(this._edgeLabels,r)},a.prototype.removeEdge=function(e,t,n){var o=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n),r=this._edgeObjs[o];return r&&(e=r.v,t=r.w,delete this._edgeLabels[o],delete this._edgeObjs[o],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][o],delete this._out[e][o],this._edgeCount--),this},a.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.v===t})):r}},a.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.w===t})):r}},a.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},31166:(e,t,n)=>{e.exports={Graph:n(66454),version:n(44458)}},57494:(e,t,n)=>{var o=n(10117),r=n(66454);function a(e){return o.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),a={v:t};return o.isUndefined(n)||(a.value=n),o.isUndefined(r)||(a.parent=r),a}))}function i(e){return o.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return o.isUndefined(t.name)||(r.name=t.name),o.isUndefined(n)||(r.value=n),r}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:a(e),edges:i(e)};o.isUndefined(e.graph())||(t.value=o.clone(e.graph()));return t},read:function(e){var t=new r(e.options).setGraph(e.value);return o.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),o.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},10117:(e,t,n)=>{var o;try{o={clone:n(32629),constant:n(37334),each:n(76135),filter:n(87612),has:n(61448),isArray:n(56449),isEmpty:n(62193),isFunction:n(1882),isUndefined:n(62216),keys:n(95950),map:n(55378),reduce:n(40860),size:n(47091),transform:n(69752),union:n(80299),values:n(35880)}}catch(r){}o||(o=window._),e.exports=o},44458:e=>{e.exports="2.1.8"},55580:(e,t,n)=>{var o=n(56110)(n(9325),"DataView");e.exports=o},21549:(e,t,n)=>{var o=n(22032),r=n(63862),a=n(66721),i=n(12749),s=n(35749);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},80079:(e,t,n)=>{var o=n(63702),r=n(70080),a=n(24739),i=n(48655),s=n(31175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},68223:(e,t,n)=>{var o=n(56110)(n(9325),"Map");e.exports=o},53661:(e,t,n)=>{var o=n(63040),r=n(17670),a=n(90289),i=n(4509),s=n(72949);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},32804:(e,t,n)=>{var o=n(56110)(n(9325),"Promise");e.exports=o},76545:(e,t,n)=>{var o=n(56110)(n(9325),"Set");e.exports=o},38859:(e,t,n)=>{var o=n(53661),r=n(31380),a=n(51459);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=r,i.prototype.has=a,e.exports=i},37217:(e,t,n)=>{var o=n(80079),r=n(51420),a=n(90938),i=n(63605),s=n(29817),c=n(80945);function u(e){var t=this.__data__=new o(e);this.size=t.size}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=s,u.prototype.set=c,e.exports=u},51873:(e,t,n)=>{var o=n(9325).Symbol;e.exports=o},37828:(e,t,n)=>{var o=n(9325).Uint8Array;e.exports=o},28303:(e,t,n)=>{var o=n(56110)(n(9325),"WeakMap");e.exports=o},91033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},83729:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}},79770:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,a=[];++n<o;){var i=e[n];t(i,n,e)&&(a[r++]=i)}return a}},15325:(e,t,n)=>{var o=n(96131);e.exports=function(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}},29905:e=>{e.exports=function(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}},70695:(e,t,n)=>{var o=n(78096),r=n(72428),a=n(56449),i=n(3656),s=n(30361),c=n(37167),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&r(e),d=!n&&!l&&i(e),f=!n&&!l&&!d&&c(e),h=n||l||d||f,p=h?o(e.length,String):[],g=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},34932:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},14528:e=>{e.exports=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}},40882:e=>{e.exports=function(e,t,n,o){var r=-1,a=null==e?0:e.length;for(o&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}},14248:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},99811:(e,t,n)=>{var o=n(47237)("length");e.exports=o},87805:(e,t,n)=>{var o=n(43360),r=n(75288);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&o(e,t,n)}},16547:(e,t,n)=>{var o=n(43360),r=n(75288),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&r(i,n)&&(void 0!==n||t in e)||o(e,t,n)}},26025:(e,t,n)=>{var o=n(75288);e.exports=function(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}},74733:(e,t,n)=>{var o=n(21791),r=n(95950);e.exports=function(e,t){return e&&o(t,r(t),e)}},43838:(e,t,n)=>{var o=n(21791),r=n(37241);e.exports=function(e,t){return e&&o(t,r(t),e)}},43360:(e,t,n)=>{var o=n(93243);e.exports=function(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9999:(e,t,n)=>{var o=n(37217),r=n(83729),a=n(16547),i=n(74733),s=n(43838),c=n(93290),u=n(23007),l=n(92271),d=n(48948),f=n(50002),h=n(83349),p=n(5861),g=n(76189),v=n(77199),m=n(35529),y=n(56449),b=n(3656),x=n(87730),E=n(23805),w=n(38440),S=n(95950),C=n(37241),_="[object Arguments]",N="[object Function]",M="[object Object]",k={};k[_]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[M]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[N]=k["[object WeakMap]"]=!1,e.exports=function e(t,n,O,I,P,A){var j,R=1&n,D=2&n,z=4&n;if(O&&(j=P?O(t,I,P,A):O(t)),void 0!==j)return j;if(!E(t))return t;var B=y(t);if(B){if(j=g(t),!R)return u(t,j)}else{var T=p(t),L=T==N||"[object GeneratorFunction]"==T;if(b(t))return c(t,R);if(T==M||T==_||L&&!P){if(j=D||L?{}:m(t),!R)return D?d(t,s(j,t)):l(t,i(j,t))}else{if(!k[T])return P?t:{};j=v(t,T,R)}}A||(A=new o);var $=A.get(t);if($)return $;A.set(t,j),w(t)?t.forEach((function(o){j.add(e(o,n,O,o,t,A))})):x(t)&&t.forEach((function(o,r){j.set(r,e(o,n,O,r,t,A))}));var V=B?void 0:(z?D?h:f:D?C:S)(t);return r(V||t,(function(o,r){V&&(o=t[r=o]),a(j,r,e(o,n,O,r,t,A))})),j}},39344:(e,t,n)=>{var o=n(23805),r=Object.create,a=function(){function e(){}return function(t){if(!o(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},80909:(e,t,n)=>{var o=n(30641),r=n(38329)(o);e.exports=r},93599:(e,t,n)=>{var o=n(44394);e.exports=function(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],s=t(i);if(null!=s&&(void 0===c?s==s&&!o(s):n(s,c)))var c=s,u=i}return u}},16574:(e,t,n)=>{var o=n(80909);e.exports=function(e,t){var n=[];return o(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}},2523:e=>{e.exports=function(e,t,n,o){for(var r=e.length,a=n+(o?1:-1);o?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},83120:(e,t,n)=>{var o=n(14528),r=n(45891);e.exports=function e(t,n,a,i,s){var c=-1,u=t.length;for(a||(a=r),s||(s=[]);++c<u;){var l=t[c];n>0&&a(l)?n>1?e(l,n-1,a,i,s):o(s,l):i||(s[s.length]=l)}return s}},86649:(e,t,n)=>{var o=n(83221)();e.exports=o},30641:(e,t,n)=>{var o=n(86649),r=n(95950);e.exports=function(e,t){return e&&o(e,t,r)}},47422:(e,t,n)=>{var o=n(31769),r=n(77797);e.exports=function(e,t){for(var n=0,a=(t=o(t,e)).length;null!=e&&n<a;)e=e[r(t[n++])];return n&&n==a?e:void 0}},82199:(e,t,n)=>{var o=n(14528),r=n(56449);e.exports=function(e,t,n){var a=t(e);return r(e)?a:o(a,n(e))}},72552:(e,t,n)=>{var o=n(51873),r=n(659),a=n(59350),i=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):a(e)}},3335:e=>{e.exports=function(e,t){return e>t}},20426:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},28077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},96131:(e,t,n)=>{var o=n(2523),r=n(85463),a=n(76959);e.exports=function(e,t,n){return t==t?a(e,t,n):o(e,r,n)}},27534:(e,t,n)=>{var o=n(72552),r=n(40346);e.exports=function(e){return r(e)&&"[object Arguments]"==o(e)}},60270:(e,t,n)=>{var o=n(87068),r=n(40346);e.exports=function e(t,n,a,i,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:o(t,n,a,i,e,s))}},87068:(e,t,n)=>{var o=n(37217),r=n(25911),a=n(21986),i=n(50689),s=n(5861),c=n(56449),u=n(3656),l=n(37167),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=c(e),b=c(t),x=y?f:s(e),E=b?f:s(t),w=(x=x==d?h:x)==h,S=(E=E==d?h:E)==h,C=x==E;if(C&&u(e)){if(!u(t))return!1;y=!0,w=!1}if(C&&!w)return m||(m=new o),y||l(e)?r(e,t,n,g,v,m):a(e,t,x,n,g,v,m);if(!(1&n)){var _=w&&p.call(e,"__wrapped__"),N=S&&p.call(t,"__wrapped__");if(_||N){var M=_?e.value():e,k=N?t.value():t;return m||(m=new o),v(M,k,n,g,m)}}return!!C&&(m||(m=new o),i(e,t,n,g,v,m))}},29172:(e,t,n)=>{var o=n(5861),r=n(40346);e.exports=function(e){return r(e)&&"[object Map]"==o(e)}},41799:(e,t,n)=>{var o=n(37217),r=n(60270);e.exports=function(e,t,n,a){var i=n.length,s=i,c=!a;if(null==e)return!s;for(e=Object(e);i--;){var u=n[i];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var l=(u=n[i])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new o;if(a)var p=a(d,f,l,e,t,h);if(!(void 0===p?r(f,d,3,a,h):p))return!1}}return!0}},85463:e=>{e.exports=function(e){return e!=e}},45083:(e,t,n)=>{var o=n(1882),r=n(87296),a=n(23805),i=n(47473),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(o(e)?f:s).test(i(e))}},16038:(e,t,n)=>{var o=n(5861),r=n(40346);e.exports=function(e){return r(e)&&"[object Set]"==o(e)}},4901:(e,t,n)=>{var o=n(72552),r=n(30294),a=n(40346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!i[o(e)]}},15389:(e,t,n)=>{var o=n(93663),r=n(87978),a=n(83488),i=n(56449),s=n(50583);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?r(e[0],e[1]):o(e):s(e)}},88984:(e,t,n)=>{var o=n(55527),r=n(3650),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},72903:(e,t,n)=>{var o=n(23805),r=n(55527),a=n(90181),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return a(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},56176:e=>{e.exports=function(e,t){return e<t}},5128:(e,t,n)=>{var o=n(80909),r=n(64894);e.exports=function(e,t){var n=-1,a=r(e)?Array(e.length):[];return o(e,(function(e,o,r){a[++n]=t(e,o,r)})),a}},93663:(e,t,n)=>{var o=n(41799),r=n(10776),a=n(67197);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}},87978:(e,t,n)=>{var o=n(60270),r=n(58156),a=n(80631),i=n(28586),s=n(30756),c=n(67197),u=n(77797);e.exports=function(e,t){return i(e)&&s(t)?c(u(e),t):function(n){var i=r(n,e);return void 0===i&&i===t?a(n,e):o(t,i,3)}}},85250:(e,t,n)=>{var o=n(37217),r=n(87805),a=n(86649),i=n(42824),s=n(23805),c=n(37241),u=n(14974);e.exports=function e(t,n,l,d,f){t!==n&&a(n,(function(a,c){if(f||(f=new o),s(a))i(t,n,c,l,e,d,f);else{var h=d?d(u(t,c),a,c+"",t,n,f):void 0;void 0===h&&(h=a),r(t,c,h)}}),c)}},42824:(e,t,n)=>{var o=n(87805),r=n(93290),a=n(71961),i=n(23007),s=n(35529),c=n(72428),u=n(56449),l=n(83693),d=n(3656),f=n(1882),h=n(23805),p=n(11331),g=n(37167),v=n(14974),m=n(69884);e.exports=function(e,t,n,y,b,x,E){var w=v(e,n),S=v(t,n),C=E.get(S);if(C)o(e,n,C);else{var _=x?x(w,S,n+"",e,t,E):void 0,N=void 0===_;if(N){var M=u(S),k=!M&&d(S),O=!M&&!k&&g(S);_=S,M||k||O?u(w)?_=w:l(w)?_=i(w):k?(N=!1,_=r(S,!0)):O?(N=!1,_=a(S,!0)):_=[]:p(S)||c(S)?(_=w,c(w)?_=m(w):h(w)&&!f(w)||(_=s(S))):N=!1}N&&(E.set(S,_),b(_,S,y,x,E),E.delete(S)),o(e,n,_)}}},46155:(e,t,n)=>{var o=n(34932),r=n(47422),a=n(15389),i=n(5128),s=n(73937),c=n(27301),u=n(43714),l=n(83488),d=n(56449);e.exports=function(e,t,n){t=t.length?o(t,(function(e){return d(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[l];var f=-1;t=o(t,c(a));var h=i(e,(function(e,n,r){return{criteria:o(t,(function(t){return t(e)})),index:++f,value:e}}));return s(h,(function(e,t){return u(e,t,n)}))}},76001:(e,t,n)=>{var o=n(97420),r=n(80631);e.exports=function(e,t){return o(e,t,(function(t,n){return r(e,n)}))}},97420:(e,t,n)=>{var o=n(47422),r=n(73170),a=n(31769);e.exports=function(e,t,n){for(var i=-1,s=t.length,c={};++i<s;){var u=t[i],l=o(e,u);n(l,u)&&r(c,a(u,e),l)}return c}},47237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},17255:(e,t,n)=>{var o=n(47422);e.exports=function(e){return function(t){return o(t,e)}}},86151:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,o,r,a){for(var i=-1,s=n(t((o-e)/(r||1)),0),c=Array(s);s--;)c[a?s:++i]=e,e+=r;return c}},85558:e=>{e.exports=function(e,t,n,o,r){return r(e,(function(e,r,a){n=o?(o=!1,e):t(n,e,r,a)})),n}},69302:(e,t,n)=>{var o=n(83488),r=n(56757),a=n(32865);e.exports=function(e,t){return a(r(e,t,o),e+"")}},73170:(e,t,n)=>{var o=n(16547),r=n(31769),a=n(30361),i=n(23805),s=n(77797);e.exports=function(e,t,n,c){if(!i(e))return e;for(var u=-1,l=(t=r(t,e)).length,d=l-1,f=e;null!=f&&++u<l;){var h=s(t[u]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(u!=d){var g=f[h];void 0===(p=c?c(g,h,f):void 0)&&(p=i(g)?g:a(t[u+1])?[]:{})}o(f,h,p),f=f[h]}return e}},19570:(e,t,n)=>{var o=n(37334),r=n(93243),a=n(83488),i=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:a;e.exports=i},73937:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},78096:e=>{e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},77556:(e,t,n)=>{var o=n(51873),r=n(34932),a=n(56449),i=n(44394),s=o?o.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},54128:(e,t,n)=>{var o=n(31800),r=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(r,""):e}},27301:e=>{e.exports=function(e){return function(t){return e(t)}}},55765:(e,t,n)=>{var o=n(38859),r=n(15325),a=n(29905),i=n(19219),s=n(44517),c=n(84247);e.exports=function(e,t,n){var u=-1,l=r,d=e.length,f=!0,h=[],p=h;if(n)f=!1,l=a;else if(d>=200){var g=t?null:s(e);if(g)return c(g);f=!1,l=i,p=new o}else p=t?[]:h;e:for(;++u<d;){var v=e[u],m=t?t(v):v;if(v=n||0!==v?v:0,f&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue e;t&&p.push(m),h.push(v)}else l(p,m,n)||(p!==h&&p.push(m),h.push(v))}return h}},30514:(e,t,n)=>{var o=n(34932);e.exports=function(e,t){return o(t,(function(t){return e[t]}))}},51234:e=>{e.exports=function(e,t,n){for(var o=-1,r=e.length,a=t.length,i={};++o<r;){var s=o<a?t[o]:void 0;n(i,e[o],s)}return i}},19219:e=>{e.exports=function(e,t){return e.has(t)}},24066:(e,t,n)=>{var o=n(83488);e.exports=function(e){return"function"==typeof e?e:o}},31769:(e,t,n)=>{var o=n(56449),r=n(28586),a=n(61802),i=n(13222);e.exports=function(e,t){return o(e)?e:r(e,t)?[e]:a(i(e))}},49653:(e,t,n)=>{var o=n(37828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}},93290:(e,t,n)=>{e=n.nmd(e);var o=n(9325),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r?o.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,o=s?s(n):new e.constructor(n);return e.copy(o),o}},76169:(e,t,n)=>{var o=n(49653);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},73201:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},93736:(e,t,n)=>{var o=n(51873),r=o?o.prototype:void 0,a=r?r.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},71961:(e,t,n)=>{var o=n(49653);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},53730:(e,t,n)=>{var o=n(44394);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,a=e==e,i=o(e),s=void 0!==t,c=null===t,u=t==t,l=o(t);if(!c&&!l&&!i&&e>t||i&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!a)return 1;if(!r&&!i&&!l&&e<t||l&&n&&a&&!r&&!i||c&&n&&a||!s&&a||!u)return-1}return 0}},43714:(e,t,n)=>{var o=n(53730);e.exports=function(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,s=a.length,c=n.length;++r<s;){var u=o(a[r],i[r]);if(u)return r>=c?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}},23007:e=>{e.exports=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}},21791:(e,t,n)=>{var o=n(16547),r=n(43360);e.exports=function(e,t,n,a){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=a?a(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?r(n,u,l):o(n,u,l)}return n}},92271:(e,t,n)=>{var o=n(21791),r=n(4664);e.exports=function(e,t){return o(e,r(e),t)}},48948:(e,t,n)=>{var o=n(21791),r=n(86375);e.exports=function(e,t){return o(e,r(e),t)}},55481:(e,t,n)=>{var o=n(9325)["__core-js_shared__"];e.exports=o},20999:(e,t,n)=>{var o=n(69302),r=n(36800);e.exports=function(e){return o((function(t,n){var o=-1,a=n.length,i=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,s&&r(n[0],n[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++o<a;){var c=n[o];c&&e(t,c,o,i)}return t}))}},38329:(e,t,n)=>{var o=n(64894);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&!1!==r(s[i],i,s););return n}}},83221:e=>{e.exports=function(e){return function(t,n,o){for(var r=-1,a=Object(t),i=o(t),s=i.length;s--;){var c=i[e?s:++r];if(!1===n(a[c],c,a))break}return t}}},62006:(e,t,n)=>{var o=n(15389),r=n(64894),a=n(95950);e.exports=function(e){return function(t,n,i){var s=Object(t);if(!r(t)){var c=o(n,3);t=a(t),n=function(e){return c(s[e],e,s)}}var u=e(t,n,i);return u>-1?s[c?t[u]:u]:void 0}}},85508:(e,t,n)=>{var o=n(86151),r=n(36800),a=n(17400);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&r(t,n,i)&&(n=i=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),i=void 0===i?t<n?1:-1:a(i),o(t,n,i,e)}}},44517:(e,t,n)=>{var o=n(76545),r=n(63950),a=n(84247),i=o&&1/a(new o([,-0]))[1]==1/0?function(e){return new o(e)}:r;e.exports=i},93243:(e,t,n)=>{var o=n(56110),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},25911:(e,t,n)=>{var o=n(38859),r=n(14248),a=n(19219);e.exports=function(e,t,n,i,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,v=2&n?new o:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var m=e[p],y=t[p];if(i)var b=u?i(y,m,p,t,e,c):i(m,y,p,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!r(t,(function(e,t){if(!a(v,t)&&(m===e||s(m,e,n,i,c)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,n,i,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},21986:(e,t,n)=>{var o=n(51873),r=n(37828),a=n(75288),i=n(25911),s=n(20317),c=n(84247),u=o?o.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,o,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&o;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;o|=2,f.set(e,t);var v=i(h(e),h(t),o,u,d,f);return f.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},50689:(e,t,n)=>{var o=n(50002),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,i,s){var c=1&n,u=o(e),l=u.length;if(l!=o(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:r.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=c;++d<l;){var m=e[f=u[d]],y=t[f];if(a)var b=c?a(y,m,f,t,e,s):a(m,y,f,e,t,s);if(!(void 0===b?m===y||i(m,y,n,a,s):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var x=e.constructor,E=t.constructor;x==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof E&&E instanceof E||(g=!1)}return s.delete(e),s.delete(t),g}},38816:(e,t,n)=>{var o=n(35970),r=n(56757),a=n(32865);e.exports=function(e){return a(r(e,void 0,o),e+"")}},34840:(e,t,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},50002:(e,t,n)=>{var o=n(82199),r=n(4664),a=n(95950);e.exports=function(e){return o(e,a,r)}},83349:(e,t,n)=>{var o=n(82199),r=n(86375),a=n(37241);e.exports=function(e){return o(e,a,r)}},12651:(e,t,n)=>{var o=n(74218);e.exports=function(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}},10776:(e,t,n)=>{var o=n(30756),r=n(95950);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,o(i)]}return t}},56110:(e,t,n)=>{var o=n(45083),r=n(10392);e.exports=function(e,t){var n=r(e,t);return o(n)?n:void 0}},28879:(e,t,n)=>{var o=n(74335)(Object.getPrototypeOf,Object);e.exports=o},659:(e,t,n)=>{var o=n(51873),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,s=o?o.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var o=!0}catch(c){}var r=i.call(e);return o&&(t?e[s]=n:delete e[s]),r}},4664:(e,t,n)=>{var o=n(79770),r=n(63345),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),o(i(e),(function(t){return a.call(e,t)})))}:r;e.exports=s},86375:(e,t,n)=>{var o=n(14528),r=n(28879),a=n(4664),i=n(63345),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)o(t,a(e)),e=r(e);return t}:i;e.exports=s},5861:(e,t,n)=>{var o=n(55580),r=n(68223),a=n(32804),i=n(76545),s=n(28303),c=n(72552),u=n(47473),l="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=u(o),v=u(r),m=u(a),y=u(i),b=u(s),x=c;(o&&x(new o(new ArrayBuffer(1)))!=p||r&&x(new r)!=l||a&&x(a.resolve())!=d||i&&x(new i)!=f||s&&x(new s)!=h)&&(x=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,o=n?u(n):"";if(o)switch(o){case g:return p;case v:return l;case m:return d;case y:return f;case b:return h}return t}),e.exports=x},10392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},49326:(e,t,n)=>{var o=n(31769),r=n(72428),a=n(56449),i=n(30361),s=n(30294),c=n(77797);e.exports=function(e,t,n){for(var u=-1,l=(t=o(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&i(f,l)&&(a(e)||r(e))}},49698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},22032:(e,t,n)=>{var o=n(81042);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},63862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},66721:(e,t,n)=>{var o=n(81042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},12749:(e,t,n)=>{var o=n(81042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:r.call(t,e)}},35749:(e,t,n)=>{var o=n(81042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this}},76189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(o.index=e.index,o.input=e.input),o}},77199:(e,t,n)=>{var o=n(49653),r=n(76169),a=n(73201),i=n(93736),s=n(71961);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return o(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return a(e);case"[object Symbol]":return i(e)}}},35529:(e,t,n)=>{var o=n(39344),r=n(28879),a=n(55527);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:o(r(e))}},45891:(e,t,n)=>{var o=n(51873),r=n(72428),a=n(56449),i=o?o.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(i&&e&&e[i])}},30361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var o=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&t.test(e))&&e>-1&&e%1==0&&e<n}},36800:(e,t,n)=>{var o=n(75288),r=n(64894),a=n(30361),i=n(23805);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&a(t,n.length):"string"==s&&t in n)&&o(n[t],e)}},28586:(e,t,n)=>{var o=n(56449),r=n(44394),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}},74218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87296:(e,t,n)=>{var o,r=n(55481),a=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!a&&a in e}},55527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},30756:(e,t,n)=>{var o=n(23805);e.exports=function(e){return e==e&&!o(e)}},63702:e=>{e.exports=function(){this.__data__=[],this.size=0}},70080:(e,t,n)=>{var o=n(26025),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},24739:(e,t,n)=>{var o=n(26025);e.exports=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}},48655:(e,t,n)=>{var o=n(26025);e.exports=function(e){return o(this.__data__,e)>-1}},31175:(e,t,n)=>{var o=n(26025);e.exports=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},63040:(e,t,n)=>{var o=n(21549),r=n(80079),a=n(68223);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(a||r),string:new o}}},17670:(e,t,n)=>{var o=n(12651);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},90289:(e,t,n)=>{var o=n(12651);e.exports=function(e){return o(this,e).get(e)}},4509:(e,t,n)=>{var o=n(12651);e.exports=function(e){return o(this,e).has(e)}},72949:(e,t,n)=>{var o=n(12651);e.exports=function(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},20317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}},67197:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},62224:(e,t,n)=>{var o=n(50104);e.exports=function(e){var t=o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},81042:(e,t,n)=>{var o=n(56110)(Object,"create");e.exports=o},3650:(e,t,n)=>{var o=n(74335)(Object.keys,Object);e.exports=o},90181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},86009:(e,t,n)=>{e=n.nmd(e);var o=n(34840),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r&&o.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},74335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},56757:(e,t,n)=>{var o=n(91033),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=r(a.length-t,0),c=Array(s);++i<s;)c[i]=a[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=a[i];return u[t]=n(c),o(e,this,u)}}},9325:(e,t,n)=>{var o=n(34840),r="object"==typeof self&&self&&self.Object===Object&&self,a=o||r||Function("return this")();e.exports=a},14974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},31380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},51459:e=>{e.exports=function(e){return this.__data__.has(e)}},84247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},32865:(e,t,n)=>{var o=n(19570),r=n(51811)(o);e.exports=r},51811:e=>{var t=Date.now;e.exports=function(e){var n=0,o=0;return function(){var r=t(),a=16-(r-o);if(o=r,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},51420:(e,t,n)=>{var o=n(80079);e.exports=function(){this.__data__=new o,this.size=0}},90938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},63605:e=>{e.exports=function(e){return this.__data__.get(e)}},29817:e=>{e.exports=function(e){return this.__data__.has(e)}},80945:(e,t,n)=>{var o=n(80079),r=n(68223),a=n(53661);e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var i=n.__data__;if(!r||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},76959:e=>{e.exports=function(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}},81993:(e,t,n)=>{var o=n(99811),r=n(49698),a=n(77927);e.exports=function(e){return r(e)?a(e):o(e)}},61802:(e,t,n)=>{var o=n(62224),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=o((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,o,r){t.push(o?r.replace(a,"$1"):n||e)})),t}));e.exports=i},77797:(e,t,n)=>{var o=n(44394);e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},47473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},31800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},77927:e=>{var t="\\ud800-\\udfff",n="["+t+"]",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+o+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",l=u+c+("(?:\\u200d(?:"+[a,i,s].join("|")+")"+u+c+")*"),d="(?:"+[a+o+"?",o,i,s,n].join("|")+")",f=RegExp(r+"(?="+r+")|"+d+l,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},32629:(e,t,n)=>{var o=n(9999);e.exports=function(e){return o(e,4)}},88055:(e,t,n)=>{var o=n(9999);e.exports=function(e){return o(e,5)}},37334:e=>{e.exports=function(e){return function(){return e}}},84684:(e,t,n)=>{var o=n(69302),r=n(75288),a=n(36800),i=n(37241),s=Object.prototype,c=s.hasOwnProperty,u=o((function(e,t){e=Object(e);var n=-1,o=t.length,u=o>2?t[2]:void 0;for(u&&a(t[0],t[1],u)&&(o=1);++n<o;)for(var l=t[n],d=i(l),f=-1,h=d.length;++f<h;){var p=d[f],g=e[p];(void 0===g||r(g,s[p])&&!c.call(e,p))&&(e[p]=l[p])}return e}));e.exports=u},76135:(e,t,n)=>{e.exports=n(39754)},75288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},87612:(e,t,n)=>{var o=n(79770),r=n(16574),a=n(15389),i=n(56449);e.exports=function(e,t){return(i(e)?o:r)(e,a(t,3))}},7309:(e,t,n)=>{var o=n(62006)(n(24713));e.exports=o},24713:(e,t,n)=>{var o=n(2523),r=n(15389),a=n(61489),i=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:a(n);return c<0&&(c=i(s+c,0)),o(e,r(t,3),c)}},35970:(e,t,n)=>{var o=n(83120);e.exports=function(e){return(null==e?0:e.length)?o(e,1):[]}},39754:(e,t,n)=>{var o=n(83729),r=n(80909),a=n(24066),i=n(56449);e.exports=function(e,t){return(i(e)?o:r)(e,a(t))}},52420:(e,t,n)=>{var o=n(86649),r=n(24066),a=n(37241);e.exports=function(e,t){return null==e?e:o(e,r(t),a)}},58156:(e,t,n)=>{var o=n(47422);e.exports=function(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}},61448:(e,t,n)=>{var o=n(20426),r=n(49326);e.exports=function(e,t){return null!=e&&r(e,t,o)}},80631:(e,t,n)=>{var o=n(28077),r=n(49326);e.exports=function(e,t){return null!=e&&r(e,t,o)}},83488:e=>{e.exports=function(e){return e}},72428:(e,t,n)=>{var o=n(27534),r=n(40346),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return r(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},56449:e=>{var t=Array.isArray;e.exports=t},64894:(e,t,n)=>{var o=n(1882),r=n(30294);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},83693:(e,t,n)=>{var o=n(64894),r=n(40346);e.exports=function(e){return r(e)&&o(e)}},3656:(e,t,n)=>{e=n.nmd(e);var o=n(9325),r=n(89935),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a?o.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c},62193:(e,t,n)=>{var o=n(88984),r=n(5861),a=n(72428),i=n(56449),s=n(64894),c=n(3656),u=n(55527),l=n(37167),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||a(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!o(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},1882:(e,t,n)=>{var o=n(72552),r=n(23805);e.exports=function(e){if(!r(e))return!1;var t=o(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},30294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},87730:(e,t,n)=>{var o=n(29172),r=n(27301),a=n(86009),i=a&&a.isMap,s=i?r(i):o;e.exports=s},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},11331:(e,t,n)=>{var o=n(72552),r=n(28879),a=n(40346),i=Function.prototype,s=Object.prototype,c=i.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=o(e))return!1;var t=r(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},38440:(e,t,n)=>{var o=n(16038),r=n(27301),a=n(86009),i=a&&a.isSet,s=i?r(i):o;e.exports=s},85015:(e,t,n)=>{var o=n(72552),r=n(56449),a=n(40346);e.exports=function(e){return"string"==typeof e||!r(e)&&a(e)&&"[object String]"==o(e)}},44394:(e,t,n)=>{var o=n(72552),r=n(40346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},37167:(e,t,n)=>{var o=n(4901),r=n(27301),a=n(86009),i=a&&a.isTypedArray,s=i?r(i):o;e.exports=s},62216:e=>{e.exports=function(e){return void 0===e}},95950:(e,t,n)=>{var o=n(70695),r=n(88984),a=n(64894);e.exports=function(e){return a(e)?o(e):r(e)}},37241:(e,t,n)=>{var o=n(70695),r=n(72903),a=n(64894);e.exports=function(e){return a(e)?o(e,!0):r(e)}},68090:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},55378:(e,t,n)=>{var o=n(34932),r=n(15389),a=n(5128),i=n(56449);e.exports=function(e,t){return(i(e)?o:a)(e,r(t,3))}},73916:(e,t,n)=>{var o=n(43360),r=n(30641),a=n(15389);e.exports=function(e,t){var n={};return t=a(t,3),r(e,(function(e,r,a){o(n,r,t(e,r,a))})),n}},94506:(e,t,n)=>{var o=n(93599),r=n(3335),a=n(83488);e.exports=function(e){return e&&e.length?o(e,a,r):void 0}},50104:(e,t,n)=>{var o=n(53661);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],a=n.cache;if(a.has(r))return a.get(r);var i=e.apply(this,o);return n.cache=a.set(r,i)||a,i};return n.cache=new(r.Cache||o),n}r.Cache=o,e.exports=r},55364:(e,t,n)=>{var o=n(85250),r=n(20999)((function(e,t,n){o(e,t,n)}));e.exports=r},31684:(e,t,n)=>{var o=n(93599),r=n(56176),a=n(83488);e.exports=function(e){return e&&e.length?o(e,a,r):void 0}},36533:(e,t,n)=>{var o=n(93599),r=n(15389),a=n(56176);e.exports=function(e,t){return e&&e.length?o(e,r(t,2),a):void 0}},63950:e=>{e.exports=function(){}},10124:(e,t,n)=>{var o=n(9325);e.exports=function(){return o.Date.now()}},44383:(e,t,n)=>{var o=n(76001),r=n(38816)((function(e,t){return null==e?{}:o(e,t)}));e.exports=r},50583:(e,t,n)=>{var o=n(47237),r=n(17255),a=n(28586),i=n(77797);e.exports=function(e){return a(e)?o(i(e)):r(e)}},23181:(e,t,n)=>{var o=n(85508)();e.exports=o},40860:(e,t,n)=>{var o=n(40882),r=n(80909),a=n(15389),i=n(85558),s=n(56449);e.exports=function(e,t,n){var c=s(e)?o:i,u=arguments.length<3;return c(e,a(t,4),n,u,r)}},47091:(e,t,n)=>{var o=n(88984),r=n(5861),a=n(64894),i=n(85015),s=n(81993);e.exports=function(e){if(null==e)return 0;if(a(e))return i(e)?s(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:o(e).length}},33031:(e,t,n)=>{var o=n(83120),r=n(46155),a=n(69302),i=n(36800),s=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),r(e,o(t,1),[])}));e.exports=s},63345:e=>{e.exports=function(){return[]}},89935:e=>{e.exports=function(){return!1}},17400:(e,t,n)=>{var o=n(99374),r=1/0;e.exports=function(e){return e?(e=o(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},61489:(e,t,n)=>{var o=n(17400);e.exports=function(e){var t=o(e),n=t%1;return t==t?n?t-n:t:0}},99374:(e,t,n)=>{var o=n(54128),r=n(23805),a=n(44394),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):i.test(e)?NaN:+e}},69884:(e,t,n)=>{var o=n(21791),r=n(37241);e.exports=function(e){return o(e,r(e))}},13222:(e,t,n)=>{var o=n(77556);e.exports=function(e){return null==e?"":o(e)}},69752:(e,t,n)=>{var o=n(83729),r=n(39344),a=n(30641),i=n(15389),s=n(28879),c=n(56449),u=n(3656),l=n(1882),d=n(23805),f=n(37167);e.exports=function(e,t,n){var h=c(e),p=h||u(e)||f(e);if(t=i(t,4),null==n){var g=e&&e.constructor;n=p?h?new g:[]:d(e)&&l(g)?r(s(e)):{}}return(p?o:a)(e,(function(e,o,r){return t(n,e,o,r)})),n}},80299:(e,t,n)=>{var o=n(83120),r=n(69302),a=n(55765),i=n(83693),s=r((function(e){return a(o(e,1,i,!0))}));e.exports=s},97200:(e,t,n)=>{var o=n(13222),r=0;e.exports=function(e){var t=++r;return o(e)+t}},35880:(e,t,n)=>{var o=n(30514),r=n(95950);e.exports=function(e){return null==e?[]:o(e,r(e))}},47248:(e,t,n)=>{var o=n(16547),r=n(51234);e.exports=function(e,t){return r(e||[],t||[],o)}},49647:()=>{},58493:(e,t,n)=>{"use strict";var o=n(96540);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useState,i=o.useEffect,s=o.useLayoutEffect,c=o.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(o){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=a({inst:{value:n,getSnapshot:t}}),r=o[0].inst,l=o[1];return s((function(){r.value=n,r.getSnapshot=t,u(r)&&l({inst:r})}),[e,n,t]),i((function(){return u(r)&&l({inst:r}),e((function(){u(r)&&l({inst:r})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:l},22162:(e,t,n)=>{"use strict";var o=n(96540),r=n(19888);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,s=o.useRef,c=o.useEffect,u=o.useMemo,l=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!c){if(c=!0,i=e,e=o(e),void 0!==r&&f.hasValue){var t=f.value;if(r(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=o(e);return void 0!==r&&r(t,n)?(i=e,t):(i=e,s=n)}var i,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,o,r]);var h=i(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=h}),[h]),l(h),h}},19888:(e,t,n)=>{"use strict";e.exports=n(58493)},69242:(e,t,n)=>{"use strict";e.exports=n(22162)},28453:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,x:()=>s});var o=n(96540);const r={},a=o.createContext(r);function i(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(a.Provider,{value:t},e.children)}},67828:(e,t,n)=>{"use strict";n.d(t,{V:()=>p});var o,r=n(96540),a=n(86100),i=n(67242),s=n(43402);function c({color:e,dimensions:t,lineWidth:n}){return r.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function u({color:e,radius:t}){return r.createElement("circle",{cx:t,cy:t,r:t,fill:e})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(o||(o={}));const l={[o.Dots]:"#91919a",[o.Lines]:"#eee",[o.Cross]:"#e2e2e2"},d={[o.Dots]:1,[o.Lines]:1,[o.Cross]:6},f=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function h({id:e,variant:t=o.Dots,gap:n=20,size:h,lineWidth:p=1,offset:g=2,color:v,style:m,className:y}){const b=(0,r.useRef)(null),{transform:x,patternId:E}=(0,i.Pj)(f,s.x),w=v||l[t],S=h||d[t],C=t===o.Dots,_=t===o.Cross,N=Array.isArray(n)?n:[n,n],M=[N[0]*x[2]||1,N[1]*x[2]||1],k=S*x[2],O=_?[k,k]:M,I=C?[k/g,k/g]:[O[0]/g,O[1]/g];return r.createElement("svg",{className:(0,a.A)(["react-flow__background",y]),style:{...m,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:b,"data-testid":"rf__background"},r.createElement("pattern",{id:E+e,x:x[0]%M[0],y:x[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${I[0]},-${I[1]})`},C?r.createElement(u,{color:w,radius:k/g}):r.createElement(c,{dimensions:O,color:w,lineWidth:p})),r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E+e})`}))}h.displayName="Background";var p=(0,r.memo)(h)},75438:(e,t,n)=>{"use strict";n.d(t,{H:()=>g});var o=n(96540),r=n(86100),a=n(43402),i=n(67242);function s(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},o.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function c(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},o.createElement("path",{d:"M0 0h32v4.2H0z"}))}function u(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},o.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function l(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function d(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const f=({children:e,className:t,...n})=>o.createElement("button",{type:"button",className:(0,r.A)(["react-flow__controls-button",t]),...n},e);f.displayName="ControlButton";const h=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),p=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:p=!0,fitViewOptions:g,onZoomIn:v,onZoomOut:m,onFitView:y,onInteractiveChange:b,className:x,children:E,position:w="bottom-left"})=>{const S=(0,i.PI)(),[C,_]=(0,o.useState)(!1),{isInteractive:N,minZoomReached:M,maxZoomReached:k}=(0,i.Pj)(h,a.x),{zoomIn:O,zoomOut:I,fitView:P}=(0,i.VH)();if((0,o.useEffect)((()=>{_(!0)}),[]),!C)return null;return o.createElement(i.Zk,{className:(0,r.A)(["react-flow__controls",x]),position:w,style:e,"data-testid":"rf__controls"},t&&o.createElement(o.Fragment,null,o.createElement(f,{onClick:()=>{O(),v?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:k},o.createElement(s,null)),o.createElement(f,{onClick:()=>{I(),m?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:M},o.createElement(c,null))),n&&o.createElement(f,{className:"react-flow__controls-fitview",onClick:()=>{P(g),y?.()},title:"fit view","aria-label":"fit view"},o.createElement(u,null)),p&&o.createElement(f,{className:"react-flow__controls-interactive",onClick:()=>{S.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),b?.(!N)},title:"toggle interactivity","aria-label":"toggle interactivity"},N?o.createElement(d,null):o.createElement(l,null)),E)};p.displayName="Controls";var g=(0,o.memo)(p)},67242:(e,t,n)=>{"use strict";n.d(t,{h7:()=>at,TG:()=>be,Zk:()=>V,yX:()=>xe,Gc:()=>yo,rN:()=>Le,Mi:()=>ee,Cz:()=>Fe,Jo:()=>He,fM:()=>Eo,ck:()=>xo,VH:()=>Yt,Pj:()=>T,PI:()=>L});var o=n(96540),r=n(86100),a=n(69242);const i=e=>{let t;const n=new Set,o=(e,o)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=o?o:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach((n=>n(t,e)))}},r=()=>t,a={setState:o,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(o,r,a);return a},s=e=>e?i(e):i;const{useDebugValue:c}=o,{useSyncExternalStoreWithSelector:u}=a,l=e=>e;function d(e,t=l,n){const o=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(o),o}const f=(e,t)=>{const n=s(e),o=(e,o=t)=>d(n,e,o);return Object.assign(o,n),o};var h=n(43402),p=n(59650),g=n(50183),v=n(14374),m=n(41089),y=n(69274),b=n(25226);const x=e=>()=>e;function E(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:a,x:i,y:s,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}function w(e){return!e.ctrlKey&&!e.button}function S(){return this.parentNode}function C(e,t){return null==t?{x:e.x,y:e.y}:t}function _(){return navigator.maxTouchPoints||"ontouchstart"in this}E.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(40961);const N=(0,o.createContext)(null),M=N.Provider,k=e=>`Node type "${e}" not found. Using fallback type "default".`,O=()=>"The React Flow parent container needs a width and a height to render the graph.",I=()=>"Only child nodes can use a parent extent.",P=()=>"Can't create edge. An edge needs a source and a target.",A=e=>`Marker type "${e}" doesn't exist.`,j=(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,R=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",D=e=>`Edge type "${e}" not found. Using fallback type "default".`,z=e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,B=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function T(e,t){const n=(0,o.useContext)(N);if(null===n)throw new Error(B);return d(n,e,t)}const L=()=>{const e=(0,o.useContext)(N);if(null===e)throw new Error(B);return(0,o.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])},$=e=>e.userSelectionActive?"none":"all";function V({position:e,children:t,className:n,style:a,...i}){const s=T($),c=`${e}`.split("-");return o.createElement("div",{className:(0,r.A)(["react-flow__panel",n,...c]),style:{...a,pointerEvents:s},...i},t)}function F({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:o.createElement(V,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},o.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var H=(0,o.memo)((({x:e,y:t,label:n,labelStyle:a={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:l,className:d,...f})=>{const h=(0,o.useRef)(null),[p,g]=(0,o.useState)({x:0,y:0,width:0,height:0}),v=(0,r.A)(["react-flow__edge-textwrapper",d]);return(0,o.useEffect)((()=>{if(h.current){const e=h.current.getBBox();g({x:e.x,y:e.y,width:e.width,height:e.height})}}),[n]),void 0!==n&&n?o.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:v,visibility:p.width?"visible":"hidden",...f},i&&o.createElement("rect",{width:p.width+2*c[0],x:-c[0],y:-c[1],height:p.height+2*c[1],className:"react-flow__edge-textbg",style:s,rx:u,ry:u}),o.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:a},n),l):null}));const Y=e=>({width:e.offsetWidth,height:e.offsetHeight}),X=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Z=(e={x:0,y:0},t)=>({x:X(e.x,t[0][0],t[1][0]),y:X(e.y,t[0][1],t[1][1])}),K=(e,t,n)=>e<t?X(Math.abs(e-t),1,50)/50:e>n?-X(Math.abs(e-n),1,50)/50:0,G=(e,t)=>[20*K(e.x,35,t.width-35),20*K(e.y,35,t.height-35)],W=e=>e.getRootNode?.()||window?.document,U=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),q=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),J=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Q=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ee=(e,t)=>J(U(q(e),q(t))),te=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},ne=e=>oe(e.width)&&oe(e.height)&&oe(e.x)&&oe(e.y),oe=e=>!isNaN(e)&&isFinite(e),re=Symbol.for("internals"),ae=["Enter"," ","Escape"],ie=(e,t)=>{0};function se(e){const t=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const ce=e=>"clientX"in e,ue=(e,t)=>{const n=ce(e),o=n?e.clientX:e.touches?.[0].clientX,r=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:r-(t?.top??0)}},le=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,de=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:l,style:d,markerEnd:f,markerStart:h,interactionWidth:p=20})=>o.createElement(o.Fragment,null,o.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&o.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&oe(n)&&oe(r)?o.createElement(H,{x:n,y:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:l}):null);de.displayName="BaseEdge";function fe(e,t,n){return void 0===n?n:o=>{const r=t().edges.find((t=>t.id===e));r&&n(o,{...r})}}function he({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,a=n<e?n+r:n-r,i=Math.abs(o-t)/2;return[a,o<t?o+i:o-i,r,i]}function pe({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:a,targetControlX:i,targetControlY:s}){const c=.125*e+.375*r+.375*i+.125*n,u=.125*t+.375*a+.375*s+.125*o;return[c,u,Math.abs(c-e),Math.abs(u-t)]}var ge,ve,me,ye,be,xe;function Ee({pos:e,x1:t,y1:n,x2:o,y2:r}){return e===xe.Left||e===xe.Right?[.5*(t+o),n]:[t,.5*(n+r)]}function we({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:o,targetY:r,targetPosition:a=xe.Top}){const[i,s]=Ee({pos:n,x1:e,y1:t,x2:o,y2:r}),[c,u]=Ee({pos:a,x1:o,y1:r,x2:e,y2:t}),[l,d,f,h]=pe({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${s} ${c},${u} ${o},${r}`,l,d,f,h]}!function(e){e.Strict="strict",e.Loose="loose"}(ge||(ge={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(ve||(ve={})),function(e){e.Partial="partial",e.Full="full"}(me||(me={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(ye||(ye={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(be||(be={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(xe||(xe={}));const Se=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=xe.Bottom,targetPosition:i=xe.Top,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:v})=>{const[m,y,b]=we({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:i});return o.createElement(de,{path:m,labelX:y,labelY:b,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:v})}));Se.displayName="SimpleBezierEdge";const Ce={[xe.Left]:{x:-1,y:0},[xe.Right]:{x:1,y:0},[xe.Top]:{x:0,y:-1},[xe.Bottom]:{x:0,y:1}},_e=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ne({source:e,sourcePosition:t=xe.Bottom,target:n,targetPosition:o=xe.Top,center:r,offset:a}){const i=Ce[t],s=Ce[o],c={x:e.x+i.x*a,y:e.y+i.y*a},u={x:n.x+s.x*a,y:n.y+s.y*a},l=(({source:e,sourcePosition:t=xe.Bottom,target:n})=>t===xe.Left||t===xe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1})({source:c,sourcePosition:t,target:u}),d=0!==l.x?"x":"y",f=l[d];let h,p,g=[];const v={x:0,y:0},m={x:0,y:0},[y,b,x,E]=he({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*s[d]==-1){h=r.x??y,p=r.y??b;const e=[{x:h,y:c.y},{x:h,y:u.y}],t=[{x:c.x,y:p},{x:u.x,y:p}];g=i[d]===f?"x"===d?e:t:"x"===d?t:e}else{const r=[{x:c.x,y:u.y}],l=[{x:u.x,y:c.y}];if(g="x"===d?i.x===f?l:r:i.y===f?r:l,t===o){const t=Math.abs(e[d]-n[d]);if(t<=a){const o=Math.min(a-1,a-t);i[d]===f?v[d]=(c[d]>e[d]?-1:1)*o:m[d]=(u[d]>n[d]?-1:1)*o}}if(t!==o){const e="x"===d?"y":"x",t=i[d]===s[e],n=c[e]>u[e],o=c[e]<u[e];(1===i[d]&&(!t&&n||t&&o)||1!==i[d]&&(!t&&o||t&&n))&&(g="x"===d?r:l)}const y={x:c.x+v.x,y:c.y+v.y},b={x:u.x+m.x,y:u.y+m.y};Math.max(Math.abs(y.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(y.y-g[0].y),Math.abs(b.y-g[0].y))?(h=(y.x+b.x)/2,p=g[0].y):(h=g[0].x,p=(y.y+b.y)/2)}return[[e,{x:c.x+v.x,y:c.y+v.y},...g,{x:u.x+m.x,y:u.y+m.y},n],h,p,x,E]}function Me({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:o,targetY:r,targetPosition:a=xe.Top,borderRadius:i=5,centerX:s,centerY:c,offset:u=20}){const[l,d,f,h,p]=Ne({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:a,center:{x:s,y:c},offset:u});return[l.reduce(((e,t,n)=>{let o="";return o=n>0&&n<l.length-1?function(e,t,n,o){const r=Math.min(_e(e,t)/2,_e(t,n)/2,o),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i)return`L ${a+r*(e.x<n.x?-1:1)},${i}Q ${a},${i} ${a},${i+r*(e.y<n.y?1:-1)}`;const s=e.x<n.x?1:-1;return`L ${a},${i+r*(e.y<n.y?-1:1)}Q ${a},${i} ${a+r*s},${i}`}(l[n-1],t,l[n+1],i):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=o}),""),d,f,h,p]}const ke=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:l,style:d,sourcePosition:f=xe.Bottom,targetPosition:h=xe.Top,markerEnd:p,markerStart:g,pathOptions:v,interactionWidth:m})=>{const[y,b,x]=Me({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:v?.borderRadius,offset:v?.offset});return o.createElement(de,{path:y,labelX:b,labelY:x,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:l,style:d,markerEnd:p,markerStart:g,interactionWidth:m})}));ke.displayName="SmoothStepEdge";const Oe=(0,o.memo)((e=>o.createElement(ke,{...e,pathOptions:(0,o.useMemo)((()=>({borderRadius:0,offset:e.pathOptions?.offset})),[e.pathOptions?.offset])})));Oe.displayName="StepEdge";const Ie=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:l,style:d,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[g,v,m]=function({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[r,a,i,s]=he({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,a,i,s]}({sourceX:e,sourceY:t,targetX:n,targetY:r});return o.createElement(de,{path:g,labelX:v,labelY:m,label:a,labelStyle:i,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:l,style:d,markerEnd:f,markerStart:h,interactionWidth:p})}));function Pe(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Ae({pos:e,x1:t,y1:n,x2:o,y2:r,c:a}){switch(e){case xe.Left:return[t-Pe(t-o,a),n];case xe.Right:return[t+Pe(o-t,a),n];case xe.Top:return[t,n-Pe(n-r,a)];case xe.Bottom:return[t,n+Pe(r-n,a)]}}function je({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:o,targetY:r,targetPosition:a=xe.Top,curvature:i=.25}){const[s,c]=Ae({pos:n,x1:e,y1:t,x2:o,y2:r,c:i}),[u,l]=Ae({pos:a,x1:o,y1:r,x2:e,y2:t,c:i}),[d,f,h,p]=pe({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:l});return[`M${e},${t} C${s},${c} ${u},${l} ${o},${r}`,d,f,h,p]}Ie.displayName="StraightEdge";const Re=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=xe.Bottom,targetPosition:i=xe.Top,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,pathOptions:v,interactionWidth:m})=>{const[y,b,x]=je({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:i,curvature:v?.curvature});return o.createElement(de,{path:y,labelX:b,labelY:x,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:m})}));Re.displayName="BezierEdge";const De=(0,o.createContext)(null),ze=De.Provider;De.Consumer;const Be=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`reactflow__edge-${e}${t||""}-${n}${o||""}`,Te=(e,t)=>{if(void 0===e)return"";if("string"==typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&")}`},Le=(e,t)=>{if(!e.source||!e.target)return ie(0,P()),t;let n;var o;return n="id"in(o=e)&&"source"in o&&"target"in o?{...e}:{...e,id:Be(e)},((e,t)=>t.some((t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle)))))(n,t)?t:t.concat(n)},$e=({x:e,y:t},[n,o,r],a,[i,s])=>{const c={x:(e-n)/r,y:(t-o)/r};return a?{x:i*Math.round(c.x/i),y:s*Math.round(c.y/s)}:c},Ve=({x:e,y:t},[n,o,r])=>({x:e*r+n,y:t*r+o}),Fe=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],o=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-o};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-o}:r}},He=(e,t=[0,0])=>{if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:o,y:r}=Fe(n,t).positionAbsolute;return U(e,q({x:o,y:r,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return J(n)},Ye=(e,t,[n,o,r]=[0,0,1],a=!1,i=!1,s=[0,0])=>{const c={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r},u=[];return e.forEach((e=>{const{width:t,height:n,selectable:o=!0,hidden:r=!1}=e;if(i&&!o||r)return!1;const{positionAbsolute:l}=Fe(e,s),d={x:l.x,y:l.y,width:t||0,height:n||0},f=te(c,d);(void 0===t||void 0===n||null===t||null===n||a&&f>0||f>=(t||0)*(n||0)||e.dragging)&&u.push(e)})),u},Xe=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Ze=(e,t,n,o,r,a=.1)=>{const i=t/(e.width*(1+a)),s=n/(e.height*(1+a)),c=Math.min(i,s),u=X(c,o,r);return{x:t/2-(e.x+e.width/2)*u,y:n/2-(e.y+e.height/2)*u,zoom:u}},Ke=(e,t=0)=>e.transition().duration(t);function Ge(e,t,n,o){return(t[n]||[]).reduce(((t,r)=>(`${e.id}-${r.id}-${n}`!==o&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+r.x+r.width/2,y:(e.positionAbsolute?.y??0)+r.y+r.height/2}),t)),[])}const We={source:null,target:null,sourceHandle:null,targetHandle:null},Ue=()=>({handleDomNode:null,isValid:!1,connection:We,endHandle:null});function qe(e,t,n,o,r,a,i){const s="target"===r,c=i.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...Ue(),handleDomNode:c};if(c){const e=Je(void 0,c),r=c.getAttribute("data-nodeid"),i=c.getAttribute("data-handleid"),l=c.classList.contains("connectable"),d=c.classList.contains("connectableend"),f={source:s?r:n,sourceHandle:s?i:o,target:s?n:r,targetHandle:s?o:i};u.connection=f;l&&d&&(t===ge.Strict?s&&"source"===e||!s&&"target"===e:r!==n||i!==o)&&(u.endHandle={nodeId:r,handleId:i,type:e},u.isValid=a(f))}return u}function Je(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Qe(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function et(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function tt({event:e,handleId:t,nodeId:n,onConnect:o,isTarget:r,getState:a,setState:i,isValidConnection:s,edgeUpdaterType:c,onReconnectEnd:u}){const l=W(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:p,onConnectStart:g,panBy:v,getNodes:m,cancelConnection:y}=a();let b,x=0;const{x:E,y:w}=ue(e),S=l?.elementFromPoint(E,w),C=Je(c,S),_=f?.getBoundingClientRect();if(!_||!C)return;let N,M=ue(e,_),k=!1,O=null,I=!1,P=null;const A=function({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce(((e,r)=>{if(r[re]){const{handleBounds:a}=r[re];let i=[],s=[];a&&(i=Ge(r,a,"source",`${t}-${n}-${o}`),s=Ge(r,a,"target",`${t}-${n}-${o}`)),e.push(...i,...s)}return e}),[])}({nodes:m(),nodeId:n,handleId:t,handleType:C}),j=()=>{if(!h)return;const[e,t]=G(M,_);v({x:e,y:t}),x=requestAnimationFrame(j)};function R(e){const{transform:o}=a();M=ue(e,_);const{handle:c,validHandleResult:u}=function(e,t,n,o,r,a){const{x:i,y:s}=ue(e),c=t.elementsFromPoint(i,s).find((e=>e.classList.contains("react-flow__handle")));if(c){const e=c.getAttribute("data-nodeid");if(e){const t=Je(void 0,c),o=c.getAttribute("data-handleid"),i=a({nodeId:e,id:o,type:t});if(i){const a=r.find((n=>n.nodeId===e&&n.type===t&&n.id===o));return{handle:{id:o,type:t,nodeId:e,x:a?.x||n.x,y:a?.y||n.y},validHandleResult:i}}}}let u=[],l=1/0;if(r.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=o){const n=a(e);t<=l&&(t<l?u=[{handle:e,validHandleResult:n}]:t===l&&u.push({handle:e,validHandleResult:n}),l=t)}})),!u.length)return{handle:null,validHandleResult:Ue()};if(1===u.length)return u[0];const d=u.some((({validHandleResult:e})=>e.isValid)),f=u.some((({handle:e})=>"target"===e.type));return u.find((({handle:e,validHandleResult:t})=>f?"target"===e.type:!d||t.isValid))||u[0]}(e,l,$e(M,o,!1,[1,1]),p,A,(e=>qe(e,d,n,t,r?"target":"source",s,l)));if(b=c,k||(j(),k=!0),P=u.handleDomNode,O=u.connection,I=u.isValid,i({connectionPosition:b&&I?Ve({x:b.x,y:b.y},o):M,connectionStatus:et(!!b,I),connectionEndHandle:u.endHandle}),!b&&!I&&!P)return Qe(N);O.source!==O.target&&P&&(Qe(N),N=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",I),P.classList.toggle("react-flow__handle-valid",I))}function D(e){(b||P)&&O&&I&&o?.(O),a().onConnectEnd?.(e),c&&u?.(e),Qe(N),y(),cancelAnimationFrame(x),k=!1,I=!1,O=null,P=null,l.removeEventListener("mousemove",R),l.removeEventListener("mouseup",D),l.removeEventListener("touchmove",R),l.removeEventListener("touchend",D)}i({connectionPosition:M,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),g?.(e,{nodeId:n,handleId:t,handleType:C}),l.addEventListener("mousemove",R),l.addEventListener("mouseup",D),l.addEventListener("touchmove",R),l.addEventListener("touchend",D)}const nt=()=>!0,ot=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),rt=(0,o.forwardRef)((({type:e="source",position:t=xe.Top,isValidConnection:n,isConnectable:a=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:c,onConnect:u,children:l,className:d,onMouseDown:f,onTouchStart:p,...g},v)=>{const m=c||null,y="target"===e,b=L(),x=(0,o.useContext)(De),{connectOnClick:E,noPanClassName:w}=T(ot,h.x),{connecting:S,clickConnecting:C}=T(((e,t,n)=>o=>{const{connectionStartHandle:r,connectionEndHandle:a,connectionClickStartHandle:i}=o;return{connecting:r?.nodeId===e&&r?.handleId===t&&r?.type===n||a?.nodeId===e&&a?.handleId===t&&a?.type===n,clickConnecting:i?.nodeId===e&&i?.handleId===t&&i?.type===n}})(x,m,e),h.x);x||b.getState().onError?.("010",R());const _=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=b.getState(),r={...t,...e};if(o){const{edges:e,setEdges:t}=b.getState();t(Le(r,e))}n?.(r),u?.(r)},N=e=>{if(!x)return;const t=ce(e);i&&(t&&0===e.button||!t)&&tt({event:e,handleId:m,nodeId:x,onConnect:_,isTarget:y,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||nt}),t?f?.(e):p?.(e)};return o.createElement("div",{"data-handleid":m,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${m}-${e}`,className:(0,r.A)(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,d,{source:!y,target:y,connectable:a,connectablestart:i,connectableend:s,connecting:C,connectionindicator:a&&(i&&!S||s&&S)}]),onMouseDown:N,onTouchStart:N,onClick:E?t=>{const{onClickConnectStart:o,onClickConnectEnd:r,connectionClickStartHandle:a,connectionMode:s,isValidConnection:c}=b.getState();if(!x||!a&&!i)return;if(!a)return o?.(t,{nodeId:x,handleId:m,handleType:e}),void b.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:m}});const u=W(t.target),l=n||c||nt,{connection:d,isValid:f}=qe({nodeId:x,id:m,type:e},s,a.nodeId,a.handleId||null,a.type,l,u);f&&_(d),r?.(t),b.setState({connectionClickStartHandle:null})}:void 0,ref:v,...g},l)}));rt.displayName="Handle";var at=(0,o.memo)(rt);const it=({data:e,isConnectable:t,targetPosition:n=xe.Top,sourcePosition:r=xe.Bottom})=>o.createElement(o.Fragment,null,o.createElement(at,{type:"target",position:n,isConnectable:t}),e?.label,o.createElement(at,{type:"source",position:r,isConnectable:t}));it.displayName="DefaultNode";var st=(0,o.memo)(it);const ct=({data:e,isConnectable:t,sourcePosition:n=xe.Bottom})=>o.createElement(o.Fragment,null,e?.label,o.createElement(at,{type:"source",position:n,isConnectable:t}));ct.displayName="InputNode";var ut=(0,o.memo)(ct);const lt=({data:e,isConnectable:t,targetPosition:n=xe.Top})=>o.createElement(o.Fragment,null,o.createElement(at,{type:"target",position:n,isConnectable:t}),e?.label);lt.displayName="OutputNode";var dt=(0,o.memo)(lt);const ft=()=>null;ft.displayName="GroupNode";const ht=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>({...e})))}),pt=e=>e.id;function gt(e,t){return(0,h.x)(e.selectedNodes.map(pt),t.selectedNodes.map(pt))&&(0,h.x)(e.selectedEdges.map(pt),t.selectedEdges.map(pt))}const vt=(0,o.memo)((({onSelectionChange:e})=>{const t=L(),{selectedNodes:n,selectedEdges:r}=T(ht,gt);return(0,o.useEffect)((()=>{const o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChange.forEach((e=>e(o)))}),[n,r,e]),null}));vt.displayName="SelectionListener";const mt=e=>!!e.onSelectionChange;function yt({onSelectionChange:e}){const t=T(mt);return e||t?o.createElement(vt,{onSelectionChange:e}):null}const bt=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function xt(e,t){(0,o.useEffect)((()=>{void 0!==e&&t(e)}),[e])}function Et(e,t,n){(0,o.useEffect)((()=>{void 0!==t&&n({[e]:t})}),[t])}const wt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:i,onConnectEnd:s,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:l,nodesConnectable:d,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:m,maxZoom:y,nodeExtent:b,onNodesChange:x,onEdgesChange:E,elementsSelectable:w,connectionMode:S,snapGrid:C,snapToGrid:_,translateExtent:N,connectOnClick:M,defaultEdgeOptions:k,fitView:O,fitViewOptions:I,onNodesDelete:P,onEdgesDelete:A,onNodeDrag:j,onNodeDragStart:R,onNodeDragStop:D,onSelectionDrag:z,onSelectionDragStart:B,onSelectionDragStop:$,noPanClassName:V,nodeOrigin:F,rfId:H,autoPanOnConnect:Y,autoPanOnNodeDrag:X,onError:Z,connectionRadius:K,isValidConnection:G,nodeDragThreshold:W})=>{const{setNodes:U,setEdges:q,setDefaultNodesAndEdges:J,setMinZoom:Q,setMaxZoom:ee,setTranslateExtent:te,setNodeExtent:ne,reset:oe}=T(bt,h.x),re=L();return(0,o.useEffect)((()=>{const e=r?.map((e=>({...e,...k})));return J(n,e),()=>{oe()}}),[]),Et("defaultEdgeOptions",k,re.setState),Et("connectionMode",S,re.setState),Et("onConnect",a,re.setState),Et("onConnectStart",i,re.setState),Et("onConnectEnd",s,re.setState),Et("onClickConnectStart",c,re.setState),Et("onClickConnectEnd",u,re.setState),Et("nodesDraggable",l,re.setState),Et("nodesConnectable",d,re.setState),Et("nodesFocusable",f,re.setState),Et("edgesFocusable",p,re.setState),Et("edgesUpdatable",g,re.setState),Et("elementsSelectable",w,re.setState),Et("elevateNodesOnSelect",v,re.setState),Et("snapToGrid",_,re.setState),Et("snapGrid",C,re.setState),Et("onNodesChange",x,re.setState),Et("onEdgesChange",E,re.setState),Et("connectOnClick",M,re.setState),Et("fitViewOnInit",O,re.setState),Et("fitViewOnInitOptions",I,re.setState),Et("onNodesDelete",P,re.setState),Et("onEdgesDelete",A,re.setState),Et("onNodeDrag",j,re.setState),Et("onNodeDragStart",R,re.setState),Et("onNodeDragStop",D,re.setState),Et("onSelectionDrag",z,re.setState),Et("onSelectionDragStart",B,re.setState),Et("onSelectionDragStop",$,re.setState),Et("noPanClassName",V,re.setState),Et("nodeOrigin",F,re.setState),Et("rfId",H,re.setState),Et("autoPanOnConnect",Y,re.setState),Et("autoPanOnNodeDrag",X,re.setState),Et("onError",Z,re.setState),Et("connectionRadius",K,re.setState),Et("isValidConnection",G,re.setState),Et("nodeDragThreshold",W,re.setState),xt(e,U),xt(t,q),xt(m,Q),xt(y,ee),xt(N,te),xt(b,ne),null},St={display:"none"},Ct={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_t="react-flow__node-desc",Nt="react-flow__edge-desc",Mt=e=>e.ariaLiveMessage;function kt({rfId:e}){const t=T(Mt);return o.createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ct},t)}function Ot({rfId:e,disableKeyboardA11y:t}){return o.createElement(o.Fragment,null,o.createElement("div",{id:`${_t}-${e}`,style:St},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),o.createElement("div",{id:`${Nt}-${e}`,style:St},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&o.createElement(kt,{rfId:e}))}var It=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=(0,o.useState)(!1),a=(0,o.useRef)(!1),i=(0,o.useRef)(new Set([])),[s,c]=(0,o.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"==typeof e)).map((e=>e.split("+"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,o.useEffect)((()=>{const n="undefined"!=typeof document?document:null,o=t?.target||n;if(null!==e){const e=e=>{a.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!a.current||a.current&&!t.actInsideInputWithModifier)&&se(e))return!1;const n=At(e.code,c);i.current.add(e[n]),Pt(s,i.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&se(e))return!1;const n=At(e.code,c);Pt(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[n]),"Meta"===e.key&&i.current.clear(),a.current=!1},u=()=>{i.current.clear(),r(!1)};return o?.addEventListener("keydown",e),o?.addEventListener("keyup",n),window.addEventListener("blur",u),()=>{o?.removeEventListener("keydown",e),o?.removeEventListener("keyup",n),window.removeEventListener("blur",u)}}}),[e,r]),n};function Pt(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function At(e,t){return t.includes(e)?"code":"key"}function jt(e,t,n,o){const r=e.parentNode||e.parentId;if(!r)return n;const a=t.get(r),i=Fe(a,o);return jt(a,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(a[re]?.z??0)>(n.z??0)?a[re]?.z??0:n.z??0},o)}function Rt(e,t,n){e.forEach((o=>{const r=o.parentNode||o.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n?.[o.id]){const{x:r,y:a,z:i}=jt(o,e,{...o.position,z:o[re]?.z??0},t);o.positionAbsolute={x:r,y:a},o[re].z=i,n?.[o.id]&&(o[re].isParent=!0)}}))}function Dt(e,t,n,o){const r=new Map,a={},i=o?1e3:0;return e.forEach((e=>{const n=(oe(e.zIndex)?e.zIndex:0)+(e.selected?i:0),o=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},c=e.parentNode||e.parentId;c&&(a[c]=!0);const u=o?.type&&o?.type!==e.type;Object.defineProperty(s,re,{enumerable:!1,value:{handleBounds:u?void 0:o?.[re]?.handleBounds,z:n}}),r.set(e.id,s)})),Rt(r,n,a),r}function zt(e,t={}){const{getNodes:n,width:o,height:r,minZoom:a,maxZoom:i,d3Zoom:s,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:l,nodeOrigin:d}=e(),f=t.initial&&!u&&l;if(s&&c&&(f||!t.initial)){const e=n().filter((e=>{const n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some((t=>t.id===e.id)):n})),u=e.every((e=>e.width&&e.height));if(e.length>0&&u){const n=He(e,d),{x:u,y:l,zoom:f}=Ze(n,o,r,t.minZoom??a,t.maxZoom??i,t.padding??.1),h=p.GS.translate(u,l).scale(f);return"number"==typeof t.duration&&t.duration>0?s.transform(Ke(c,t.duration),h):s.transform(c,h),!0}}return!1}function Bt(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[re]:n[re],selected:e.selected})})),new Map(t)}function Tt(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function Lt({changedNodes:e,changedEdges:t,get:n,set:o}){const{nodeInternals:r,edges:a,onNodesChange:i,onEdgesChange:s,hasDefaultNodes:c,hasDefaultEdges:u}=n();e?.length&&(c&&o({nodeInternals:Bt(e,r)}),i?.(e)),t?.length&&(u&&o({edges:Tt(t,a)}),s?.(t))}const $t=()=>{},Vt={zoomIn:$t,zoomOut:$t,zoomTo:$t,getZoom:()=>1,setViewport:$t,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:$t,fitBounds:$t,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ft=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Ht=()=>{const e=L(),{d3Zoom:t,d3Selection:n}=T(Ft,h.x);return(0,o.useMemo)((()=>n&&t?{zoomIn:e=>t.scaleBy(Ke(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(Ke(n,e?.duration),1/1.2),zoomTo:(e,o)=>t.scaleTo(Ke(n,o?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(o,r)=>{const[a,i,s]=e.getState().transform,c=p.GS.translate(o.x??a,o.y??i).scale(o.zoom??s);t.transform(Ke(n,r?.duration),c)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>zt(e.getState,t),setCenter:(o,r,a)=>{const{width:i,height:s,maxZoom:c}=e.getState(),u=void 0!==a?.zoom?a.zoom:c,l=i/2-o*u,d=s/2-r*u,f=p.GS.translate(l,d).scale(u);t.transform(Ke(n,a?.duration),f)},fitBounds:(o,r)=>{const{width:a,height:i,minZoom:s,maxZoom:c}=e.getState(),{x:u,y:l,zoom:d}=Ze(o,a,i,s,c,r?.padding??.1),f=p.GS.translate(u,l).scale(d);t.transform(Ke(n,r?.duration),f)},project:t=>{const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),$e(t,n,o,r)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:o,snapGrid:r,domNode:a}=e.getState();if(!a)return t;const{x:i,y:s}=a.getBoundingClientRect(),c={x:t.x-i,y:t.y-s};return $e(c,n,o,r)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:r,y:a}=o.getBoundingClientRect(),i=Ve(t,n);return{x:i.x+r,y:i.y+a}},viewportInitialized:!0}:Vt),[t,n])};function Yt(){const e=Ht(),t=L(),n=(0,o.useCallback)((()=>t.getState().getNodes().map((e=>({...e})))),[]),r=(0,o.useCallback)((e=>t.getState().nodeInternals.get(e)),[]),a=(0,o.useCallback)((()=>{const{edges:e=[]}=t.getState();return e.map((e=>({...e})))}),[]),i=(0,o.useCallback)((e=>{const{edges:n=[]}=t.getState();return n.find((t=>t.id===e))}),[]),s=(0,o.useCallback)((e=>{const{getNodes:n,setNodes:o,hasDefaultNodes:r,onNodesChange:a}=t.getState(),i=n(),s="function"==typeof e?e(i):e;if(r)o(s);else if(a){a(0===s.length?i.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"}))))}}),[]),c=(0,o.useCallback)((e=>{const{edges:n=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:a}=t.getState(),i="function"==typeof e?e(n):e;if(r)o(i);else if(a){a(0===i.length?n.map((e=>({type:"remove",id:e.id}))):i.map((e=>({item:e,type:"reset"}))))}}),[]),u=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{getNodes:o,setNodes:r,hasDefaultNodes:a,onNodesChange:i}=t.getState();if(a){r([...o(),...n])}else if(i){i(n.map((e=>({item:e,type:"add"}))))}}),[]),l=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{edges:o=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:i}=t.getState();if(a)r([...o,...n]);else if(i){i(n.map((e=>({item:e,type:"add"}))))}}),[]),d=(0,o.useCallback)((()=>{const{getNodes:e,edges:n=[],transform:o}=t.getState(),[r,a,i]=o;return{nodes:e().map((e=>({...e}))),edges:n.map((e=>({...e}))),viewport:{x:r,y:a,zoom:i}}}),[]),f=(0,o.useCallback)((({nodes:e,edges:n})=>{const{nodeInternals:o,getNodes:r,edges:a,hasDefaultNodes:i,hasDefaultEdges:s,onNodesDelete:c,onEdgesDelete:u,onNodesChange:l,onEdgesChange:d}=t.getState(),f=(e||[]).map((e=>e.id)),h=(n||[]).map((e=>e.id)),p=r().reduce(((e,t)=>{const n=t.parentNode||t.parentId,o=!f.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!=typeof t.deletable||t.deletable)&&(f.includes(t.id)||o)&&e.push(t),e}),[]),g=a.filter((e=>"boolean"!=typeof e.deletable||e.deletable)),v=g.filter((e=>h.includes(e.id)));if(p||v){const e=Xe(p,g),n=[...v,...e],r=n.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((s||i)&&(s&&t.setState({edges:a.filter((e=>!r.includes(e.id)))}),i&&(p.forEach((e=>{o.delete(e.id)})),t.setState({nodeInternals:new Map(o)}))),r.length>0&&(u?.(n),d&&d(r.map((e=>({id:e,type:"remove"}))))),p.length>0&&(c?.(p),l)){l(p.map((e=>({id:e.id,type:"remove"}))))}}}),[]),h=(0,o.useCallback)((e=>{const n=ne(e),o=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!o)return[null,null,n];return[n?e:Q(o),o,n]}),[]),p=(0,o.useCallback)(((e,n=!0,o)=>{const[r,a,i]=h(e);return r?(o||t.getState().getNodes()).filter((e=>{if(!(i||e.id!==a.id&&e.positionAbsolute))return!1;const t=Q(e),o=te(t,r);return n&&o>0||o>=r.width*r.height})):[]}),[]),g=(0,o.useCallback)(((e,t,n=!0)=>{const[o]=h(e);if(!o)return!1;const r=te(o,t);return n&&r>0||r>=o.width*o.height}),[]);return(0,o.useMemo)((()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:i,setNodes:s,setEdges:c,addNodes:u,addEdges:l,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:g})),[e,n,r,a,i,s,c,u,l,d,f,p,g])}const Xt={actInsideInputWithModifier:!1};const Zt={position:"absolute",width:"100%",height:"100%",top:0,left:0},Kt=e=>({x:e.x,y:e.y,zoom:e.k}),Gt=(e,t)=>e.target.closest(`.${t}`),Wt=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Ut=e=>{const t=e.ctrlKey&&le()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},qt=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Jt=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=ve.Free,zoomOnDoubleClick:l=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:m,translateExtent:y,minZoom:b,maxZoom:x,zoomActivationKeyCode:E,preventScrolling:w=!0,children:S,noWheelClassName:C,noPanClassName:_})=>{const N=(0,o.useRef)(),M=L(),k=(0,o.useRef)(!1),I=(0,o.useRef)(!1),P=(0,o.useRef)(null),A=(0,o.useRef)({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:R,d3ZoomHandler:D,userSelectionActive:z}=T(qt,h.x),B=It(E),$=(0,o.useRef)(0),V=(0,o.useRef)(!1),F=(0,o.useRef)();return function(e){const t=L();(0,o.useEffect)((()=>{let n;const o=()=>{if(!e.current)return;const n=Y(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004",O()),t.setState({width:n.width||500,height:n.height||500})};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver((()=>o())),n.observe(e.current)),()=>{window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}}),[])}(P),(0,o.useEffect)((()=>{if(P.current){const e=P.current.getBoundingClientRect(),t=(0,p.s_)().scaleExtent([b,x]).translateExtent(y),n=(0,g.A)(P.current).call(t),o=p.GS.translate(m.x,m.y).scale(X(m.zoom,b,x)),r=[[0,0],[e.width,e.height]],a=t.constrain()(o,r,y);t.transform(n,a),t.wheelDelta(Ut),M.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[a.x,a.y,a.k],domNode:P.current.closest(".react-flow")})}}),[]),(0,o.useEffect)((()=>{R&&j&&(!s||B||z?void 0!==D&&R.on("wheel.zoom",(function(e,t){if(!w&&"wheel"===e.type&&!e.ctrlKey||Gt(e,C))return null;e.preventDefault(),D.call(this,e,t)}),{passive:!1}):R.on("wheel.zoom",(o=>{if(Gt(o,C))return!1;o.preventDefault(),o.stopImmediatePropagation();const r=R.property("__zoom").k||1;if(o.ctrlKey&&i){const e=(0,v.A)(o),t=Ut(o),n=r*Math.pow(2,t);return void j.scaleTo(R,n,e,o)}const a=1===o.deltaMode?20:1;let s=u===ve.Vertical?0:o.deltaX*a,l=u===ve.Horizontal?0:o.deltaY*a;!le()&&o.shiftKey&&u!==ve.Vertical&&(s=o.deltaY*a,l=0),j.translateBy(R,-s/r*c,-l/r*c,{internal:!0});const d=Kt(R.property("__zoom")),{onViewportChangeStart:f,onViewportChange:h,onViewportChangeEnd:p}=M.getState();clearTimeout(F.current),V.current||(V.current=!0,t?.(o,d),f?.(d)),V.current&&(e?.(o,d),h?.(d),F.current=setTimeout((()=>{n?.(o,d),p?.(d),V.current=!1}),150))}),{passive:!1}))}),[z,s,u,R,j,D,B,i,w,C,t,e,n]),(0,o.useEffect)((()=>{j&&j.on("start",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;$.current=e.sourceEvent?.button;const{onViewportChangeStart:n}=M.getState(),o=Kt(e.transform);k.current=!0,A.current=o,"mousedown"===e.sourceEvent?.type&&M.setState({paneDragging:!0}),n?.(o),t?.(e.sourceEvent,o)}))}),[j,t]),(0,o.useEffect)((()=>{j&&(z&&!k.current?j.on("zoom",null):z||j.on("zoom",(t=>{const{onViewportChange:n}=M.getState();if(M.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),I.current=!(!r||!Wt(f,$.current??0)),(e||n)&&!t.sourceEvent?.internal){const o=Kt(t.transform);n?.(o),e?.(t.sourceEvent,o)}})))}),[z,j,e,f,r]),(0,o.useEffect)((()=>{j&&j.on("end",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:t}=M.getState();if(k.current=!1,M.setState({paneDragging:!1}),r&&Wt(f,$.current??0)&&!I.current&&r(e.sourceEvent),I.current=!1,(n||t)&&(o=A.current,a=e.transform,o.x!==a.x||o.y!==a.y||o.zoom!==a.k)){const o=Kt(e.transform);A.current=o,clearTimeout(N.current),N.current=setTimeout((()=>{t?.(o),n?.(e.sourceEvent,o)}),s?150:0)}var o,a}))}),[j,s,f,n,r]),(0,o.useEffect)((()=>{j&&j.filter((e=>{const t=B||a,n=i&&e.ctrlKey;if((!0===f||Array.isArray(f)&&f.includes(1))&&1===e.button&&"mousedown"===e.type&&(Gt(e,"react-flow__node")||Gt(e,"react-flow__edge")))return!0;if(!(f||t||s||l||i))return!1;if(z)return!1;if(!l&&"dblclick"===e.type)return!1;if(Gt(e,C)&&"wheel"===e.type)return!1;if(Gt(e,_)&&("wheel"!==e.type||s&&"wheel"===e.type&&!B))return!1;if(!i&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!s&&!n&&"wheel"===e.type)return!1;if(!f&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(f)&&!f.includes(e.button)&&"mousedown"===e.type)return!1;const o=Array.isArray(f)&&f.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o}))}),[z,j,a,i,s,l,f,d,B]),o.createElement("div",{className:"react-flow__renderer",ref:P,style:Zt},S)},Qt=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function en(){const{userSelectionActive:e,userSelectionRect:t}=T(Qt,h.x);return e&&t?o.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function tn(e,t){const n=t.parentNode||t.parentId,o=e.find((e=>e.id===n));if(o){const e=t.position.x+t.width-o.width,n=t.position.y+t.height-o.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(o.style={...o.style}||{},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,e>0&&(o.style.width+=e),n>0&&(o.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);o.position.x=o.position.x-e,o.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);o.position.y=o.position.y-e,o.style.height+=e,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function nn(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const o=e.filter((e=>e.id===n.id));if(0===o.length)return t.push(n),t;const r={...n};for(const e of o)if(e)switch(e.type){case"select":r.selected=e.selected;break;case"position":void 0!==e.position&&(r.position=e.position),void 0!==e.positionAbsolute&&(r.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(r.dragging=e.dragging),r.expandParent&&tn(t,r);break;case"dimensions":void 0!==e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),void 0!==e.updateStyle&&(r.style={...r.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(r.resizing=e.resizing),r.expandParent&&tn(t,r);break;case"remove":return t}return t.push(r),t}),n)}function on(e,t){return nn(e,t)}const rn=(e,t)=>({id:e,type:"select",selected:t});function an(e,t){return e.reduce(((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(rn(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(rn(n.id,!1))),e}),[])}const sn=(e,t)=>n=>{n.target===t.current&&e?.(n)},cn=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),un=(0,o.memo)((({isSelecting:e,selectionMode:t=me.Full,panOnDrag:n,onSelectionStart:a,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:l,onPaneMouseMove:d,onPaneMouseLeave:f,children:p})=>{const g=(0,o.useRef)(null),v=L(),m=(0,o.useRef)(0),y=(0,o.useRef)(0),b=(0,o.useRef)(),{userSelectionActive:x,elementsSelectable:E,dragging:w}=T(cn,h.x),S=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,y.current=0},C=e=>{s?.(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},_=u?e=>u(e):void 0,N=E&&(e||x);return o.createElement("div",{className:(0,r.A)(["react-flow__pane",{dragging:w,selection:e}]),onClick:N?void 0:sn(C,g),onContextMenu:sn((e=>{Array.isArray(n)&&n?.includes(2)?e.preventDefault():c?.(e)}),g),onWheel:sn(_,g),onMouseEnter:N?void 0:l,onMouseDown:N?t=>{const{resetSelectedElements:n,domNode:o}=v.getState();if(b.current=o?.getBoundingClientRect(),!E||!e||0!==t.button||t.target!==g.current||!b.current)return;const{x:r,y:i}=ue(t,b.current);n(),v.setState({userSelectionRect:{width:0,height:0,startX:r,startY:i,x:r,y:i}}),a?.(t)}:void 0,onMouseMove:N?n=>{const{userSelectionRect:o,nodeInternals:r,edges:a,transform:i,onNodesChange:s,onEdgesChange:c,nodeOrigin:u,getNodes:l}=v.getState();if(!e||!b.current||!o)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const d=ue(n,b.current),f=o.startX??0,h=o.startY??0,p={...o,x:d.x<f?d.x:f,y:d.y<h?d.y:h,width:Math.abs(d.x-f),height:Math.abs(d.y-h)},g=l(),x=Ye(r,p,i,t===me.Partial,!0,u),E=Xe(x,a).map((e=>e.id)),w=x.map((e=>e.id));if(m.current!==w.length){m.current=w.length;const e=an(g,w);e.length&&s?.(e)}if(y.current!==E.length){y.current=E.length;const e=an(a,E);e.length&&c?.(e)}v.setState({userSelectionRect:p})}:d,onMouseUp:N?e=>{if(0!==e.button)return;const{userSelectionRect:t}=v.getState();!x&&t&&e.target===g.current&&C?.(e),v.setState({nodesSelectionActive:m.current>0}),S(),i?.(e)}:void 0,onMouseLeave:N?e=>{x&&(v.setState({nodesSelectionActive:m.current>0}),i?.(e)),S()}:f,ref:g,style:Zt},p,o.createElement(en,null))}));function ln(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return!!o&&(!!o.selected||ln(o,t))}function dn(e,t,n){let o=e;do{if(o?.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function fn(e,t,n,o){return Array.from(e.values()).filter((n=>(n.selected||n.id===o)&&(!n.parentNode||n.parentId||!ln(n,e))&&(n.draggable||t&&void 0===n.draggable))).map((e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(e.positionAbsolute?.x??0),y:n.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent})))}function hn(e,t,n,o,r=[0,0],a){const i=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||o);let s=i;const c=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&c&&"parent"!==e.extent){const t=n.get(c),{x:o,y:a}=Fe(t,r).positionAbsolute;s=[[e.extent[0][0]+o,e.extent[0][1]+a],[e.extent[1][0]+o,e.extent[1][1]+a]]}}else if(c&&e.width&&e.height){const t=n.get(c),{x:o,y:a}=Fe(t,r).positionAbsolute;s=t&&oe(o)&&oe(a)&&oe(t.width)&&oe(t.height)?[[o+e.width*r[0],a+e.height*r[1]],[o+t.width-e.width+e.width*r[0],a+t.height-e.height+e.height*r[1]]]:s}else a?.("005",I()),s=i;let u={x:0,y:0};if(c){const e=n.get(c);u=Fe(e,r).positionAbsolute}const l=s&&"parent"!==s?Z(t,s):t;return{position:{x:l.x-u.x,y:l.y-u.y},positionAbsolute:l}}function pn({nodeId:e,dragItems:t,nodeInternals:n}){const o=t.map((e=>({...n.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute})));return[e?o.find((t=>t.id===e)):o[0],o]}un.displayName="Pane";const gn=(e,t,n,o)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const a=Array.from(r),i=t.getBoundingClientRect(),s=i.width*o[0],c=i.height*o[1];return a.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left-s)/n,y:(t.top-i.top-c)/n,...Y(e)}}))};function vn(e,t,n){return void 0===n?n:o=>{const r=t().nodeInternals.get(e);r&&n(o,{...r})}}function mn({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:r,unselectNodesAndEdges:a,multiSelectionActive:i,nodeInternals:s,onError:c}=t.getState(),u=s.get(e);u?(t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(a({nodes:[u],edges:[]}),requestAnimationFrame((()=>o?.current?.blur()))):r([e])):c?.("012",z(e))}function yn(e){return(t,n,o)=>e?.(t,o)}function bn({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:i,selectNodesOnDrag:s}){const c=L(),[u,l]=(0,o.useState)(!1),d=(0,o.useRef)([]),f=(0,o.useRef)({x:null,y:null}),h=(0,o.useRef)(0),p=(0,o.useRef)(null),N=(0,o.useRef)({x:0,y:0}),M=(0,o.useRef)(null),k=(0,o.useRef)(!1),O=(0,o.useRef)(!1),I=(0,o.useRef)(!1),P=function(){const e=L();return(0,o.useCallback)((({sourceEvent:t})=>{const{transform:n,snapGrid:o,snapToGrid:r}=e.getState(),a=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY,s={x:(a-n[0])/n[2],y:(i-n[1])/n[2]};return{xSnapped:r?o[0]*Math.round(s.x/o[0]):s.x,ySnapped:r?o[1]*Math.round(s.y/o[1]):s.y,...s}}),[])}();return(0,o.useEffect)((()=>{if(e?.current){const o=(0,g.A)(e.current),u=({x:e,y:t})=>{const{nodeInternals:n,onNodeDrag:o,onSelectionDrag:r,updateNodePositions:i,nodeExtent:s,snapGrid:u,snapToGrid:h,nodeOrigin:p,onError:g}=c.getState();f.current={x:e,y:t};let v=!1,m={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&s){const e=He(d.current,p);m=q(e)}if(d.current=d.current.map((o=>{const r={x:e-o.distance.x,y:t-o.distance.y};h&&(r.x=u[0]*Math.round(r.x/u[0]),r.y=u[1]*Math.round(r.y/u[1]));const a=[[s[0][0],s[0][1]],[s[1][0],s[1][1]]];d.current.length>1&&s&&!o.extent&&(a[0][0]=o.positionAbsolute.x-m.x+s[0][0],a[1][0]=o.positionAbsolute.x+(o.width??0)-m.x2+s[1][0],a[0][1]=o.positionAbsolute.y-m.y+s[0][1],a[1][1]=o.positionAbsolute.y+(o.height??0)-m.y2+s[1][1]);const i=hn(o,r,n,a,p,g);return v=v||o.position.x!==i.position.x||o.position.y!==i.position.y,o.position=i.position,o.positionAbsolute=i.positionAbsolute,o})),!v)return;i(d.current,!0,!0),l(!0);const y=a?o:yn(r);if(y&&M.current){const[e,t]=pn({nodeId:a,dragItems:d.current,nodeInternals:n});y(M.current,e,t)}},A=()=>{if(!p.current)return;const[e,t]=G(N.current,p.current);if(0!==e||0!==t){const{transform:n,panBy:o}=c.getState();f.current.x=(f.current.x??0)-e/n[2],f.current.y=(f.current.y??0)-t/n[2],o({x:e,y:t})&&u(f.current)}h.current=requestAnimationFrame(A)},j=t=>{const{nodeInternals:n,multiSelectionActive:o,nodesDraggable:r,unselectNodesAndEdges:u,onNodeDragStart:l,onSelectionDragStart:h}=c.getState();O.current=!0;const p=a?l:yn(h);s&&i||o||!a||n.get(a)?.selected||u(),a&&i&&s&&mn({id:a,store:c,nodeRef:e});const g=P(t);if(f.current=g,d.current=fn(n,r,g,a),p&&d.current){const[e,o]=pn({nodeId:a,dragItems:d.current,nodeInternals:n});p(t.sourceEvent,e,o)}};if(!t){const t=function(){var e,t,n,o,r=w,a=S,i=C,s=_,c={},u=(0,m.A)("start","drag","end"),l=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",M).on("touchmove.drag",k,b.vr).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(i,s){if(!o&&r.call(this,i,s)){var c=I(this,a.call(this,i,s),i,s,"mouse");c&&((0,g.A)(i.view).on("mousemove.drag",p,b.Rw).on("mouseup.drag",N,b.Rw),(0,y.A)(i.view),(0,b.GK)(i),n=!1,e=i.clientX,t=i.clientY,c("start",i))}}function p(o){if((0,b.Ay)(o),!n){var r=o.clientX-e,a=o.clientY-t;n=r*r+a*a>d}c.mouse("drag",o)}function N(e){(0,g.A)(e.view).on("mousemove.drag mouseup.drag",null),(0,y.y)(e.view,n),(0,b.Ay)(e),c.mouse("end",e)}function M(e,t){if(r.call(this,e,t)){var n,o,i=e.changedTouches,s=a.call(this,e,t),c=i.length;for(n=0;n<c;++n)(o=I(this,s,e,t,i[n].identifier,i[n]))&&((0,b.GK)(e),o("start",e,i[n]))}}function k(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=c[o[t].identifier])&&((0,b.Ay)(e),n("drag",e,o[t]))}function O(e){var t,n,r=e.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<a;++t)(n=c[r[t].identifier])&&((0,b.GK)(e),n("end",e,r[t]))}function I(e,t,n,o,r,a){var s,d,h,p=u.copy(),g=(0,v.A)(a||n,t);if(null!=(h=i.call(e,new E("beforestart",{sourceEvent:n,target:f,identifier:r,active:l,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),o)))return s=h.x-g[0]||0,d=h.y-g[1]||0,function n(a,i,u){var m,y=g;switch(a){case"start":c[r]=n,m=l++;break;case"end":delete c[r],--l;case"drag":g=(0,v.A)(u||i,t),m=l}p.call(a,e,new E(a,{sourceEvent:i,subject:h,target:f,identifier:r,active:m,x:g[0]+s,y:g[1]+d,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),o)}}return f.filter=function(e){return arguments.length?(r="function"==typeof e?e:x(!!e),f):r},f.container=function(e){return arguments.length?(a="function"==typeof e?e:x(e),f):a},f.subject=function(e){return arguments.length?(i="function"==typeof e?e:x(e),f):i},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:x(!!e),f):s},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&j(e),I.current=!1;const o=P(e);f.current=o,p.current=t?.getBoundingClientRect()||null,N.current=ue(e.sourceEvent,p.current)})).on("drag",(e=>{const t=P(e),{autoPanOnNodeDrag:n,nodeDragThreshold:o}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(I.current=!0),!I.current){if(!k.current&&O.current&&n&&(k.current=!0,A()),!O.current){const n=t.xSnapped-(f?.current?.x??0),r=t.ySnapped-(f?.current?.y??0);Math.sqrt(n*n+r*r)>o&&j(e)}(f.current.x!==t.xSnapped||f.current.y!==t.ySnapped)&&d.current&&O.current&&(M.current=e.sourceEvent,N.current=ue(e.sourceEvent,p.current),u(t))}})).on("end",(e=>{if(O.current&&!I.current&&(l(!1),k.current=!1,O.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:o,onSelectionDragStop:r}=c.getState(),i=a?o:yn(r);if(t(d.current,!1,!1),i){const[t,o]=pn({nodeId:a,dragItems:d.current,nodeInternals:n});i(e.sourceEvent,t,o)}}})).filter((t=>{const o=t.target;return!t.button&&(!n||!dn(o,`.${n}`,e))&&(!r||dn(o,r,e))}));return o.call(t),()=>{o.on(".drag",null)}}o.on(".drag",null)}}),[e,t,n,r,i,c,a,s,P]),u}function xn(){const e=L();return(0,o.useCallback)((t=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:r,getNodes:a,snapToGrid:i,snapGrid:s,onError:c,nodesDraggable:u}=e.getState(),l=a().filter((e=>e.selected&&(e.draggable||u&&void 0===e.draggable))),d=i?s[0]:5,f=i?s[1]:5,h=t.isShiftPressed?4:1,p=t.x*d*h,g=t.y*f*h;r(l.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+g};i&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:r,position:a}=hn(e,t,n,o,void 0,c);e.position=a,e.positionAbsolute=r}return e})),!0,!1)}),[])}const En={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wn=e=>{const t=({id:t,type:n,data:a,xPos:i,yPos:s,xPosOrigin:c,yPosOrigin:u,selected:l,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:g,onDoubleClick:v,style:m,className:y,isDraggable:b,isSelectable:x,isConnectable:E,isFocusable:w,selectNodesOnDrag:S,sourcePosition:C,targetPosition:_,hidden:N,resizeObserver:M,dragHandle:k,zIndex:O,isParent:I,noDragClassName:P,noPanClassName:A,initialized:j,disableKeyboardA11y:R,ariaLabel:D,rfId:z,hasHandleBounds:B})=>{const T=L(),$=(0,o.useRef)(null),V=(0,o.useRef)(null),F=(0,o.useRef)(C),H=(0,o.useRef)(_),Y=(0,o.useRef)(n),X=x||b||d||f||h||p,Z=xn(),K=vn(t,T.getState,f),G=vn(t,T.getState,h),W=vn(t,T.getState,p),U=vn(t,T.getState,g),q=vn(t,T.getState,v);(0,o.useEffect)((()=>()=>{V.current&&(M?.unobserve(V.current),V.current=null)}),[]),(0,o.useEffect)((()=>{if($.current&&!N){const e=$.current;j&&B&&V.current===e||(V.current&&M?.unobserve(V.current),M?.observe(e),V.current=e)}}),[N,j,B]),(0,o.useEffect)((()=>{const e=Y.current!==n,o=F.current!==C,r=H.current!==_;$.current&&(e||o||r)&&(e&&(Y.current=n),o&&(F.current=C),r&&(H.current=_),T.getState().updateNodeDimensions([{id:t,nodeElement:$.current,forceUpdate:!0}]))}),[t,n,C,_]);const J=bn({nodeRef:$,disabled:N||!b,noDragClassName:P,handleSelector:k,nodeId:t,isSelectable:x,selectNodesOnDrag:S});return N?null:o.createElement("div",{className:(0,r.A)(["react-flow__node",`react-flow__node-${n}`,{[A]:b},y,{selected:l,selectable:x,parent:I,dragging:J}]),ref:$,style:{zIndex:O,transform:`translate(${c}px,${u}px)`,pointerEvents:X?"all":"none",visibility:j?"visible":"hidden",...m},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:K,onMouseMove:G,onMouseLeave:W,onContextMenu:U,onClick:e=>{const{nodeDragThreshold:n}=T.getState();if(x&&(!S||!b||n>0)&&mn({id:t,store:T,nodeRef:$}),d){const n=T.getState().nodeInternals.get(t);n&&d(e,{...n})}},onDoubleClick:q,onKeyDown:w?e=>{if(!se(e)&&!R)if(ae.includes(e.key)&&x){const n="Escape"===e.key;mn({id:t,store:T,unselect:n,nodeRef:$})}else b&&l&&Object.prototype.hasOwnProperty.call(En,e.key)&&(T.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),Z({x:En[e.key].x,y:En[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":R?void 0:`${_t}-${z}`,"aria-label":D},o.createElement(ze,{value:t},o.createElement(e,{id:t,data:a,type:n,xPos:i,yPos:s,selected:l,isConnectable:E,sourcePosition:C,targetPosition:_,dragging:J,dragHandle:k,zIndex:O})))};return t.displayName="NodeWrapper",(0,o.memo)(t)};const Sn=e=>{const t=e.getNodes().filter((e=>e.selected));return{...He(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};var Cn=(0,o.memo)((function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const a=L(),{width:i,height:s,x:c,y:u,transformString:l,userSelectionActive:d}=T(Sn,h.x),f=xn(),p=(0,o.useRef)(null);if((0,o.useEffect)((()=>{n||p.current?.focus({preventScroll:!0})}),[n]),bn({nodeRef:p}),d||!i||!s)return null;const g=e?t=>{const n=a.getState().getNodes().filter((e=>e.selected));e(t,n)}:void 0;return o.createElement("div",{className:(0,r.A)(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},o.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(En,e.key)&&f({x:En[e.key].x,y:En[e.key].y,isShiftPressed:e.shiftKey})},style:{width:i,height:s,top:u,left:c}}))}));const _n=e=>e.nodesSelectionActive,Nn=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:c,onMove:u,onMoveStart:l,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:M,defaultViewport:k,translateExtent:O,minZoom:I,maxZoom:P,preventScrolling:A,onSelectionContextMenu:j,noWheelClassName:R,noPanClassName:D,disableKeyboardA11y:z})=>{const B=T(_n),$=It(f),V=It(y),F=V||M,H=V||S,Y=$||h&&!0!==F;return(({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=L(),{deleteElements:r}=Yt(),a=It(e,Xt),i=It(t);(0,o.useEffect)((()=>{if(a){const{edges:e,getNodes:t}=n.getState(),o=t().filter((e=>e.selected)),a=e.filter((e=>e.selected));r({nodes:o,edges:a}),n.setState({nodesSelectionActive:!1})}}),[a]),(0,o.useEffect)((()=>{n.setState({multiSelectionActive:i})}),[i])})({deleteKeyCode:c,multiSelectionKeyCode:m}),o.createElement(Jt,{onMove:u,onMoveStart:l,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:w,panOnScroll:H,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!$&&F,defaultViewport:k,translateExtent:O,minZoom:I,maxZoom:P,zoomActivationKeyCode:b,preventScrolling:A,noWheelClassName:R,noPanClassName:D},o.createElement(un,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:F,isSelecting:!!Y,selectionMode:p},e,B&&o.createElement(Cn,{onSelectionContextMenu:j,noPanClassName:D,disableKeyboardA11y:z})))};Nn.displayName="FlowRenderer";var Mn=(0,o.memo)(Nn);function kn(e){return{...{input:wn(e.input||ut),default:wn(e.default||st),output:wn(e.output||dt),group:wn(e.group||ft)},...Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=wn(e[n]||st),t)),{})}}const On=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),In=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:i,onError:s}=T(On,h.x),c=(u=e.onlyRenderVisibleElements,T((0,o.useCallback)((e=>u?Ye(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[u])));var u;const l=(0,o.useRef)(),d=(0,o.useMemo)((()=>{if("undefined"==typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));i(t)}));return l.current=e,e}),[]);return(0,o.useEffect)((()=>()=>{l?.current?.disconnect()}),[]),o.createElement("div",{className:"react-flow__nodes",style:Zt},c.map((i=>{let c=i.type||"default";e.nodeTypes[c]||(s?.("003",k(c)),c="default");const u=e.nodeTypes[c]||e.nodeTypes.default,l=!!(i.draggable||t&&void 0===i.draggable),f=!!(i.selectable||a&&void 0===i.selectable),h=!!(i.connectable||n&&void 0===i.connectable),p=!!(i.focusable||r&&void 0===i.focusable),g=e.nodeExtent?Z(i.positionAbsolute,e.nodeExtent):i.positionAbsolute,v=g?.x??0,m=g?.y??0,y=(({x:e,y:t,width:n,height:o,origin:r})=>n&&o?r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-o*r[1]}:{x:e,y:t})({x:v,y:m,width:i.width??0,height:i.height??0,origin:e.nodeOrigin});return o.createElement(u,{key:i.id,id:i.id,className:i.className,style:i.style,type:c,data:i.data,sourcePosition:i.sourcePosition||xe.Bottom,targetPosition:i.targetPosition||xe.Top,hidden:i.hidden,xPos:v,yPos:m,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!i.selected,isDraggable:l,isSelectable:f,isConnectable:h,isFocusable:p,resizeObserver:d,dragHandle:i.dragHandle,zIndex:i[re]?.z??0,isParent:!!i[re]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!i.width&&!!i.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:i.ariaLabel,hasHandleBounds:!!i[re]?.handleBounds})})))};In.displayName="NodeRenderer";var Pn=(0,o.memo)(In);const An=(e,t,n)=>n===xe.Left?e-t:n===xe.Right?e+t:e,jn=(e,t,n)=>n===xe.Top?e-t:n===xe.Bottom?e+t:e,Rn="react-flow__edgeupdater",Dn=({position:e,centerX:t,centerY:n,radius:a=10,onMouseDown:i,onMouseEnter:s,onMouseOut:c,type:u})=>o.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:c,className:(0,r.A)([Rn,`${Rn}-${u}`]),cx:An(t,a,e),cy:jn(n,a,e),r:a,stroke:"transparent",fill:"transparent"}),zn=()=>!0;var Bn=e=>{const t=({id:t,className:n,type:a,data:i,onClick:s,onEdgeDoubleClick:c,selected:u,animated:l,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:m,source:y,target:b,sourceX:x,sourceY:E,targetX:w,targetY:S,sourcePosition:C,targetPosition:_,elementsSelectable:N,hidden:M,sourceHandleId:k,targetHandleId:O,onContextMenu:I,onMouseEnter:P,onMouseMove:A,onMouseLeave:j,reconnectRadius:R,onReconnect:D,onReconnectStart:z,onReconnectEnd:B,markerEnd:T,markerStart:$,rfId:V,ariaLabel:F,isFocusable:H,isReconnectable:Y,pathOptions:X,interactionWidth:Z,disableKeyboardA11y:K})=>{const G=(0,o.useRef)(null),[W,U]=(0,o.useState)(!1),[q,J]=(0,o.useState)(!1),Q=L(),ee=(0,o.useMemo)((()=>`url('#${Te($,V)}')`),[$,V]),te=(0,o.useMemo)((()=>`url('#${Te(T,V)}')`),[T,V]);if(M)return null;const ne=fe(t,Q.getState,c),oe=fe(t,Q.getState,I),re=fe(t,Q.getState,P),ie=fe(t,Q.getState,A),se=fe(t,Q.getState,j),ce=(e,n)=>{if(0!==e.button)return;const{edges:o,isValidConnection:r}=Q.getState(),a=n?b:y,i=(n?O:k)||null,s=n?"target":"source",c=r||zn,u=n,l=o.find((e=>e.id===t));J(!0),z?.(e,l,s);tt({event:e,handleId:i,nodeId:a,onConnect:e=>D?.(l,e),isTarget:u,getState:Q.getState,setState:Q.setState,isValidConnection:c,edgeUpdaterType:s,onReconnectEnd:e=>{J(!1),B?.(e,l,s)}})},ue=()=>U(!0),le=()=>U(!1),de=!N&&!s;return o.createElement("g",{className:(0,r.A)(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:u,animated:l,inactive:de,updating:W}]),onClick:e=>{const{edges:n,addSelectedEdges:o,unselectNodesAndEdges:r,multiSelectionActive:a}=Q.getState(),i=n.find((e=>e.id===t));i&&(N&&(Q.setState({nodesSelectionActive:!1}),i.selected&&a?(r({nodes:[],edges:[i]}),G.current?.blur()):o([t])),s&&s(e,i))},onDoubleClick:ne,onContextMenu:oe,onMouseEnter:re,onMouseMove:ie,onMouseLeave:se,onKeyDown:H?e=>{if(!K&&ae.includes(e.key)&&N){const{unselectNodesAndEdges:n,addSelectedEdges:o,edges:r}=Q.getState();"Escape"===e.key?(G.current?.blur(),n({edges:[r.find((e=>e.id===t))]})):o([t])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===F?void 0:F||`Edge from ${y} to ${b}`,"aria-describedby":H?`${Nt}-${V}`:void 0,ref:G},!q&&o.createElement(e,{id:t,source:y,target:b,selected:u,animated:l,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,data:i,style:m,sourceX:x,sourceY:E,targetX:w,targetY:S,sourcePosition:C,targetPosition:_,sourceHandleId:k,targetHandleId:O,markerStart:ee,markerEnd:te,pathOptions:X,interactionWidth:Z}),Y&&o.createElement(o.Fragment,null,("source"===Y||!0===Y)&&o.createElement(Dn,{position:C,centerX:x,centerY:E,radius:R,onMouseDown:e=>ce(e,!0),onMouseEnter:ue,onMouseOut:le,type:"source"}),("target"===Y||!0===Y)&&o.createElement(Dn,{position:_,centerX:w,centerY:S,radius:R,onMouseDown:e=>ce(e,!1),onMouseEnter:ue,onMouseOut:le,type:"target"})))};return t.displayName="EdgeWrapper",(0,o.memo)(t)};function Tn(e){return{...{default:Bn(e.default||Re),straight:Bn(e.bezier||Ie),step:Bn(e.step||Oe),smoothstep:Bn(e.step||ke),simplebezier:Bn(e.simplebezier||Se)},...Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=Bn(e[n]||Re),t)),{})}}function Ln(e,t,n=null){const o=(n?.x||0)+t.x,r=(n?.y||0)+t.y,a=n?.width||t.width,i=n?.height||t.height;switch(e){case xe.Top:return{x:o+a/2,y:r};case xe.Right:return{x:o+a,y:r+i/2};case xe.Bottom:return{x:o+a/2,y:r+i};case xe.Left:return{x:o,y:r+i/2}}}function $n(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function Vn(e){const t=e?.[re]?.handleBounds||null,n=t&&e?.width&&e?.height&&void 0!==e?.positionAbsolute?.x&&void 0!==e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const Fn=[{level:0,isMaxLevel:!0,edges:[]}];function Hn(e,t,n){return function(e,t,n=!1){let o=-1;const r=e.reduce(((e,r)=>{const a=oe(r.zIndex);let i=a?r.zIndex:0;if(n){const e=t.get(r.target),n=t.get(r.source),o=r.selected||e?.selected||n?.selected,s=Math.max(n?.[re]?.z||0,e?.[re]?.z||0,1e3);i=(a?r.zIndex:0)+(o?s:0)}return e[i]?e[i].push(r):e[i]=[r],o=i>o?i:o,e}),{}),a=Object.entries(r).map((([e,t])=>{const n=+e;return{edges:t,level:n,isMaxLevel:n===o}}));return 0===a.length?Fn:a}(T((0,o.useCallback)((n=>e?n.edges.filter((e=>{const o=t.get(e.source),r=t.get(e.target);return o?.width&&o?.height&&r?.width&&r?.height&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:a,width:i,height:s,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const l=q({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:s/c[2]}),d=Math.max(0,Math.min(l.x2,u.x2)-Math.max(l.x,u.x)),f=Math.max(0,Math.min(l.y2,u.y2)-Math.max(l.y,u.y));return Math.ceil(d*f)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:n.width,height:n.height,transform:n.transform})})):n.edges),[e,t])),t,n)}const Yn={[be.Arrow]:({color:e="none",strokeWidth:t=1})=>o.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[be.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>o.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})};const Xn=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:c="auto-start-reverse"})=>{const u=function(e){const t=L();return(0,o.useMemo)((()=>Object.prototype.hasOwnProperty.call(Yn,e)?Yn[e]:(t.getState().onError?.("009",A(e)),null)),[e])}(t);return u?o.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0"},o.createElement(u,{color:n,strokeWidth:s})):null},Zn=({defaultColor:e,rfId:t})=>{const n=T((0,o.useCallback)((({defaultColor:e,rfId:t})=>n=>{const o=[];return n.edges.reduce(((n,r)=>([r.markerStart,r.markerEnd].forEach((r=>{if(r&&"object"==typeof r){const a=Te(r,t);o.includes(a)||(n.push({id:a,color:r.color||e,...r}),o.push(a))}})),n)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))})({defaultColor:e,rfId:t}),[e,t]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return o.createElement("defs",null,n.map((e=>o.createElement(Xn,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient}))))};Zn.displayName="MarkerDefinitions";var Kn=(0,o.memo)(Zn);const Gn=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Wn=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:a,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:c,onEdgeMouseEnter:u,onEdgeMouseMove:l,onEdgeMouseLeave:d,onEdgeClick:f,onEdgeDoubleClick:p,onReconnect:g,onReconnectStart:v,onReconnectEnd:m,reconnectRadius:y,children:b,disableKeyboardA11y:x})=>{const{edgesFocusable:E,edgesUpdatable:w,elementsSelectable:S,width:C,height:_,connectionMode:N,nodeInternals:M,onError:k}=T(Gn,h.x),O=Hn(t,M,n);return C?o.createElement(o.Fragment,null,O.map((({level:t,edges:n,isMaxLevel:h})=>o.createElement("svg",{key:t,style:{zIndex:t},width:C,height:_,className:"react-flow__edges react-flow__container"},h&&o.createElement(Kn,{defaultColor:e,rfId:a}),o.createElement("g",null,n.map((e=>{const[t,n,h]=Vn(M.get(e.source)),[b,C,_]=Vn(M.get(e.target));if(!h||!_)return null;let O=e.type||"default";i[O]||(k?.("011",D(O)),O="default");const I=i[O]||i.default,P=N===ge.Strict?C.target:(C.target??[]).concat(C.source??[]),A=$n(n.source,e.sourceHandle),R=$n(P,e.targetHandle),z=A?.position||xe.Bottom,B=R?.position||xe.Top,T=!!(e.focusable||E&&void 0===e.focusable),L=e.reconnectable||e.updatable,$=void 0!==g&&(L||w&&void 0===L);if(!A||!R)return k?.("008",j(A,e)),null;const{sourceX:V,sourceY:F,targetX:H,targetY:Y}=((e,t,n,o,r,a)=>{const i=Ln(n,e,t),s=Ln(a,o,r);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}})(t,A,z,b,R,B);return o.createElement(I,{key:e.id,id:e.id,className:(0,r.A)([e.className,s]),type:O,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:V,sourceY:F,targetX:H,targetY:Y,sourcePosition:z,targetPosition:B,elementsSelectable:S,onContextMenu:c,onMouseEnter:u,onMouseMove:l,onMouseLeave:d,onClick:f,onEdgeDoubleClick:p,onReconnect:g,onReconnectStart:v,onReconnectEnd:m,reconnectRadius:y,rfId:a,ariaLabel:e.ariaLabel,isFocusable:T,isReconnectable:$,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:x})})))))),b):null};Wn.displayName="EdgeRenderer";var Un=(0,o.memo)(Wn);const qn=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Jn({children:e}){const t=T(qn);return o.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}const Qn={[xe.Left]:xe.Right,[xe.Right]:xe.Left,[xe.Top]:xe.Bottom,[xe.Bottom]:xe.Top},eo=({nodeId:e,handleType:t,style:n,type:r=ye.Bezier,CustomComponent:a,connectionStatus:i})=>{const{fromNode:s,handleId:c,toX:u,toY:l,connectionMode:d}=T((0,o.useCallback)((t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode})),[e]),h.x),f=s?.[re]?.handleBounds;let p=f?.[t];if(d===ge.Loose&&(p=p||f?.["source"===t?"target":"source"]),!s||!p)return null;const g=c?p.find((e=>e.id===c)):p[0],v=g?g.x+g.width/2:(s.width??0)/2,m=g?g.y+g.height/2:s.height??0,y=(s.positionAbsolute?.x??0)+v,b=(s.positionAbsolute?.y??0)+m,x=g?.position,E=x?Qn[x]:null;if(!x||!E)return null;if(a)return o.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:g,fromX:y,fromY:b,toX:u,toY:l,fromPosition:x,toPosition:E,connectionStatus:i});let w="";const S={sourceX:y,sourceY:b,sourcePosition:x,targetX:u,targetY:l,targetPosition:E};return r===ye.Bezier?[w]=je(S):r===ye.Step?[w]=Me({...S,borderRadius:0}):r===ye.SmoothStep?[w]=Me(S):r===ye.SimpleBezier?[w]=we(S):w=`M${y},${b} ${u},${l}`,o.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};eo.displayName="ConnectionLine";const to=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function no({containerStyle:e,style:t,type:n,component:a}){const{nodeId:i,handleType:s,nodesConnectable:c,width:u,height:l,connectionStatus:d}=T(to,h.x);return!!(i&&s&&u&&c)?o.createElement("svg",{style:e,width:u,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},o.createElement("g",{className:(0,r.A)(["react-flow__connection",d])},o.createElement(eo,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:a,connectionStatus:d}))):null}function oo(e,t){(0,o.useRef)(null),L();return(0,o.useMemo)((()=>t(e)),[e])}const ro=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:i,onNodeClick:s,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:g,onSelectionStart:v,onSelectionEnd:m,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:x,connectionLineContainerStyle:E,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:M,deleteKeyCode:k,onlyRenderVisibleElements:O,elementsSelectable:I,selectNodesOnDrag:P,defaultViewport:A,translateExtent:j,minZoom:R,maxZoom:D,preventScrolling:z,defaultMarkerColor:B,zoomOnScroll:T,zoomOnPinch:L,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:F,zoomOnDoubleClick:H,panOnDrag:Y,onPaneClick:X,onPaneMouseEnter:Z,onPaneMouseMove:K,onPaneMouseLeave:G,onPaneScroll:W,onPaneContextMenu:U,onEdgeContextMenu:q,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:oe,reconnectRadius:re,noDragClassName:ae,noWheelClassName:ie,noPanClassName:se,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:le,nodeExtent:de,rfId:fe})=>{const he=oo(e,kn),pe=oo(t,Tn);return function(e){const t=Yt(),n=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(i),o.createElement(Mn,{onPaneClick:X,onPaneMouseEnter:Z,onPaneMouseMove:K,onPaneMouseLeave:G,onPaneContextMenu:U,onPaneScroll:W,deleteKeyCode:k,selectionKeyCode:w,selectionOnDrag:S,selectionMode:C,onSelectionStart:v,onSelectionEnd:m,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:M,elementsSelectable:I,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:T,zoomOnPinch:L,zoomOnDoubleClick:H,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:F,panOnDrag:Y,defaultViewport:A,translateExtent:j,minZoom:R,maxZoom:D,onSelectionContextMenu:g,preventScrolling:z,noDragClassName:ae,noWheelClassName:ie,noPanClassName:se,disableKeyboardA11y:ue},o.createElement(Jn,null,o.createElement(Un,{edgeTypes:pe,onEdgeClick:c,onEdgeDoubleClick:l,onlyRenderVisibleElements:O,onEdgeContextMenu:q,onEdgeMouseEnter:J,onEdgeMouseMove:Q,onEdgeMouseLeave:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:oe,reconnectRadius:re,defaultMarkerColor:B,noPanClassName:se,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:fe},o.createElement(no,{style:b,type:y,component:x,containerStyle:E})),o.createElement("div",{className:"react-flow__edgelabel-renderer"}),o.createElement(Pn,{nodeTypes:he,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:P,onlyRenderVisibleElements:O,noPanClassName:se,noDragClassName:ae,disableKeyboardA11y:ue,nodeOrigin:le,nodeExtent:de,rfId:fe})))};ro.displayName="GraphView";var ao=(0,o.memo)(ro);const io=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],so={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:io,nodeExtent:io,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ge.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ie,isValidConnection:void 0},co=()=>{return e=(e,t)=>({...so,setNodes:n=>{const{nodeInternals:o,nodeOrigin:r,elevateNodesOnSelect:a}=t();e({nodeInternals:Dt(n,o,r,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map((e=>({...o,...e})))})},setDefaultNodesAndEdges:(n,o)=>{const r=void 0!==n,a=void 0!==o,i=r?Dt(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:a?o:[],hasDefaultNodes:r,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:r,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:c,nodeOrigin:u}=t(),l=c?.querySelector(".react-flow__viewport");if(!l)return;const d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce(((e,t)=>{const n=r.get(t.id);if(n?.hidden)r.set(n.id,{...n,[re]:{...n[re],handleBounds:void 0}});else if(n){const o=Y(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(r.set(n.id,{...n,[re]:{...n[re],handleBounds:{source:gn(".source",t.nodeElement,f,u),target:gn(".target",t.nodeElement,f,u)}},...o}),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e}),[]);Rt(r,u);const p=i||a&&!i&&zt(t,{initial:!0,...s});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),h?.length>0&&o?.(h)},updateNodePositions:(e,n=!0,o=!1)=>{const{triggerNodeChanges:r}=t();r(e.map((e=>{const t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t})))},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:r,hasDefaultNodes:a,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:c}=t();if(n?.length){if(a){const t=Dt(on(n,s()),r,i,c);e({nodeInternals:t})}o?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:r,getNodes:a}=t();let i,s=null;o?i=n.map((e=>rn(e,!0))):(i=an(a(),n),s=an(r,[])),Lt({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:r,getNodes:a}=t();let i,s=null;o?i=n.map((e=>rn(e,!0))):(i=an(r,n),s=an(a(),[])),Lt({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:o}={})=>{const{edges:r,getNodes:a}=t(),i=o||r;Lt({changedNodes:(n||a()).map((e=>(e.selected=!1,rn(e.id,!1)))),changedEdges:i.map((e=>rn(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:r}=t();o?.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:r}=t();o?.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t();Lt({changedNodes:o().filter((e=>e.selected)).map((e=>rn(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>rn(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach((e=>{e.positionAbsolute=Z(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:e=>{const{transform:n,width:o,height:r,d3Zoom:a,d3Selection:i,translateExtent:s}=t();if(!a||!i||!e.x&&!e.y)return!1;const c=p.GS.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),u=[[0,0],[o,r]],l=a?.constrain()(c,u,s);return a.transform(i,l),n[0]!==l.x||n[1]!==l.y||n[2]!==l.k},cancelConnection:()=>e({connectionNodeId:so.connectionNodeId,connectionHandleId:so.connectionHandleId,connectionHandleType:so.connectionHandleType,connectionStatus:so.connectionStatus,connectionStartHandle:so.connectionStartHandle,connectionEndHandle:so.connectionEndHandle}),reset:()=>e({...so})}),t=Object.is,e?f(e,t):f;var e,t},uo=({children:e})=>{const t=(0,o.useRef)(null);return t.current||(t.current=co()),o.createElement(M,{value:t.current},e)};uo.displayName="ReactFlowProvider";const lo=({children:e})=>(0,o.useContext)(N)?o.createElement(o.Fragment,null,e):o.createElement(uo,null,e);lo.displayName="ReactFlowWrapper";const fo={input:ut,default:st,output:dt,group:ft},ho={default:Re,straight:Ie,step:Oe,smoothstep:ke,simplebezier:Se},po=[0,0],go=[15,15],vo={x:0,y:0,zoom:1},mo={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},yo=(0,o.forwardRef)((({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,className:i,nodeTypes:s=fo,edgeTypes:c=ho,onNodeClick:u,onEdgeClick:l,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:p,onConnect:g,onConnectStart:v,onConnectEnd:m,onClickConnectStart:y,onClickConnectEnd:b,onNodeMouseEnter:x,onNodeMouseMove:E,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:_,onNodeDrag:N,onNodeDragStop:M,onNodesDelete:k,onEdgesDelete:O,onSelectionChange:I,onSelectionDragStart:P,onSelectionDrag:A,onSelectionDragStop:j,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:z,connectionMode:B=ge.Strict,connectionLineType:T=ye.Bezier,connectionLineStyle:L,connectionLineComponent:$,connectionLineContainerStyle:V,deleteKeyCode:H="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:X=!1,selectionMode:Z=me.Full,panActivationKeyCode:K="Space",multiSelectionKeyCode:G=(le()?"Meta":"Control"),zoomActivationKeyCode:W=(le()?"Meta":"Control"),snapToGrid:U=!1,snapGrid:q=go,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:Q=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:oe=po,edgesFocusable:re,edgesUpdatable:ae,elementsSelectable:ie,defaultViewport:se=vo,minZoom:ce=.5,maxZoom:ue=2,translateExtent:de=io,preventScrolling:fe=!0,nodeExtent:he,defaultMarkerColor:pe="#b1b1b7",zoomOnScroll:be=!0,zoomOnPinch:xe=!0,panOnScroll:Ee=!1,panOnScrollSpeed:we=.5,panOnScrollMode:Se=ve.Free,zoomOnDoubleClick:Ce=!0,panOnDrag:_e=!0,onPaneClick:Ne,onPaneMouseEnter:Me,onPaneMouseMove:ke,onPaneMouseLeave:Oe,onPaneScroll:Ie,onPaneContextMenu:Pe,children:Ae,onEdgeContextMenu:je,onEdgeDoubleClick:Re,onEdgeMouseEnter:De,onEdgeMouseMove:ze,onEdgeMouseLeave:Be,onEdgeUpdate:Te,onEdgeUpdateStart:Le,onEdgeUpdateEnd:$e,onReconnect:Ve,onReconnectStart:Fe,onReconnectEnd:He,reconnectRadius:Ye=10,edgeUpdaterRadius:Xe=10,onNodesChange:Ze,onEdgesChange:Ke,noDragClassName:Ge="nodrag",noWheelClassName:We="nowheel",noPanClassName:Ue="nopan",fitView:qe=!1,fitViewOptions:Je,connectOnClick:Qe=!0,attributionPosition:et,proOptions:tt,defaultEdgeOptions:nt,elevateNodesOnSelect:ot=!0,elevateEdgesOnSelect:rt=!1,disableKeyboardA11y:at=!1,autoPanOnConnect:it=!0,autoPanOnNodeDrag:st=!0,connectionRadius:ct=20,isValidConnection:ut,onError:lt,style:dt,id:ft,nodeDragThreshold:ht,...pt},gt)=>{const vt=ft||"1";return o.createElement("div",{...pt,style:{...dt,...mo},ref:gt,className:(0,r.A)(["react-flow",i]),"data-testid":"rf__wrapper",id:ft},o.createElement(lo,null,o.createElement(ao,{onInit:d,onMove:f,onMoveStart:h,onMoveEnd:p,onNodeClick:u,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:E,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:c,connectionLineType:T,connectionLineStyle:L,connectionLineComponent:$,connectionLineContainerStyle:V,selectionKeyCode:Y,selectionOnDrag:X,selectionMode:Z,deleteKeyCode:H,multiSelectionKeyCode:G,panActivationKeyCode:K,zoomActivationKeyCode:W,onlyRenderVisibleElements:J,selectNodesOnDrag:Q,defaultViewport:se,translateExtent:de,minZoom:ce,maxZoom:ue,preventScrolling:fe,zoomOnScroll:be,zoomOnPinch:xe,zoomOnDoubleClick:Ce,panOnScroll:Ee,panOnScrollSpeed:we,panOnScrollMode:Se,panOnDrag:_e,onPaneClick:Ne,onPaneMouseEnter:Me,onPaneMouseMove:ke,onPaneMouseLeave:Oe,onPaneScroll:Ie,onPaneContextMenu:Pe,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:z,onEdgeContextMenu:je,onEdgeDoubleClick:Re,onEdgeMouseEnter:De,onEdgeMouseMove:ze,onEdgeMouseLeave:Be,onReconnect:Ve??Te,onReconnectStart:Fe??Le,onReconnectEnd:He??$e,reconnectRadius:Ye??Xe,defaultMarkerColor:pe,noDragClassName:Ge,noWheelClassName:We,noPanClassName:Ue,elevateEdgesOnSelect:rt,rfId:vt,disableKeyboardA11y:at,nodeOrigin:oe,nodeExtent:he}),o.createElement(wt,{nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:g,onConnectStart:v,onConnectEnd:m,onClickConnectStart:y,onClickConnectEnd:b,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:re,edgesUpdatable:ae,elementsSelectable:ie,elevateNodesOnSelect:ot,minZoom:ce,maxZoom:ue,nodeExtent:he,onNodesChange:Ze,onEdgesChange:Ke,snapToGrid:U,snapGrid:q,connectionMode:B,translateExtent:de,connectOnClick:Qe,defaultEdgeOptions:nt,fitView:qe,fitViewOptions:Je,onNodesDelete:k,onEdgesDelete:O,onNodeDragStart:_,onNodeDrag:N,onNodeDragStop:M,onSelectionDrag:A,onSelectionDragStart:P,onSelectionDragStop:j,noPanClassName:Ue,nodeOrigin:oe,rfId:vt,autoPanOnConnect:it,autoPanOnNodeDrag:st,onError:lt,connectionRadius:ct,isValidConnection:ut,nodeDragThreshold:ht}),o.createElement(yt,{onSelectionChange:I}),Ae,o.createElement(F,{proOptions:tt,position:et}),o.createElement(Ot,{rfId:vt,disableKeyboardA11y:at})))}));yo.displayName="ReactFlow";function bo(e){return t=>{const[n,r]=(0,o.useState)(t),a=(0,o.useCallback)((t=>r((n=>e(t,n)))),[]);return[n,r,a]}}const xo=bo(on),Eo=bo((function(e,t){return nn(e,t)}))},60403:(e,t,n)=>{"use strict";n.d(t,{o:()=>y});var o=n(96540),r=n(86100),a=n(43402),i=n(59650),s=n(50183),c=n(14374),u=n(67242);const l=({id:e,x:t,y:n,width:a,height:i,style:s,color:c,strokeColor:u,strokeWidth:l,className:d,borderRadius:f,shapeRendering:h,onClick:p,selected:g})=>{const{background:v,backgroundColor:m}=s||{},y=c||v||m;return o.createElement("rect",{className:(0,r.A)(["react-flow__minimap-node",{selected:g},d]),x:t,y:n,rx:f,ry:f,width:a,height:i,fill:y,stroke:u,strokeWidth:l,shapeRendering:h,onClick:p?t=>p(t,e):void 0})};l.displayName="MiniMapNode";var d=(0,o.memo)(l);const f=e=>e.nodeOrigin,h=e=>e.getNodes().filter((e=>!e.hidden&&e.width&&e.height)),p=e=>e instanceof Function?e:()=>e;var g=(0,o.memo)((function({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=d,onClick:c}){const l=(0,u.Pj)(h,a.x),g=(0,u.Pj)(f),v=p(t),m=p(e),y=p(n),b="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return o.createElement(o.Fragment,null,l.map((e=>{const{x:t,y:n}=(0,u.Cz)(e,g).positionAbsolute;return o.createElement(s,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:y(e),color:v(e),borderRadius:r,strokeColor:m(e),strokeWidth:i,shapeRendering:b,onClick:c,id:e.id})})))}));const v=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(0,u.Mi)((0,u.Jo)(t,e.nodeOrigin),n):n,rfId:e.rfId}};function m({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:l="#e2e2e2",nodeClassName:d="",nodeBorderRadius:f=5,nodeStrokeWidth:h=2,nodeComponent:p,maskColor:m="rgb(240, 240, 240, 0.6)",maskStrokeColor:y="none",maskStrokeWidth:b=1,position:x="bottom-right",onClick:E,onNodeClick:w,pannable:S=!1,zoomable:C=!1,ariaLabel:_="React Flow mini map",inversePan:N=!1,zoomStep:M=10,offsetScale:k=5}){const O=(0,u.PI)(),I=(0,o.useRef)(null),{boundingRect:P,viewBB:A,rfId:j}=(0,u.Pj)(v,a.x),R=e?.width??200,D=e?.height??150,z=P.width/R,B=P.height/D,T=Math.max(z,B),L=T*R,$=T*D,V=k*T,F=P.x-(L-P.width)/2-V,H=P.y-($-P.height)/2-V,Y=L+2*V,X=$+2*V,Z=`react-flow__minimap-desc-${j}`,K=(0,o.useRef)(0);K.current=T,(0,o.useEffect)((()=>{if(I.current){const e=(0,s.A)(I.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:o}=O.getState();if("wheel"!==e.sourceEvent.type||!n||!o)return;const r=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*M,a=t[2]*Math.pow(2,r);o.scaleTo(n,a)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:o,translateExtent:r,width:a,height:s}=O.getState();if("mousemove"!==e.sourceEvent.type||!n||!o)return;const c=K.current*Math.max(1,t[2])*(N?-1:1),u={x:t[0]-e.sourceEvent.movementX*c,y:t[1]-e.sourceEvent.movementY*c},l=[[0,0],[a,s]],d=i.GS.translate(u.x,u.y).scale(t[2]),f=o.constrain()(d,l,r);o.transform(n,f)},o=(0,i.s_)().on("zoom",S?n:null).on("zoom.wheel",C?t:null);return e.call(o),()=>{e.on("zoom",null)}}}),[S,C,N,M]);const G=E?e=>{const t=(0,c.A)(e);E(e,{x:t[0],y:t[1]})}:void 0,W=w?(e,t)=>{const n=O.getState().nodeInternals.get(t);w(e,n)}:void 0;return o.createElement(u.Zk,{position:x,style:e,className:(0,r.A)(["react-flow__minimap",t]),"data-testid":"rf__minimap"},o.createElement("svg",{width:R,height:D,viewBox:`${F} ${H} ${Y} ${X}`,role:"img","aria-labelledby":Z,ref:I,onClick:G},_&&o.createElement("title",{id:Z},_),o.createElement(g,{onClick:W,nodeColor:l,nodeStrokeColor:n,nodeBorderRadius:f,nodeClassName:d,nodeStrokeWidth:h,nodeComponent:p}),o.createElement("path",{className:"react-flow__minimap-mask",d:`M${F-V},${H-V}h${Y+2*V}v${X+2*V}h${-Y-2*V}z\n        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fill:m,fillRule:"evenodd",stroke:y,strokeWidth:b,pointerEvents:"none"})))}m.displayName="MiniMap";var y=(0,o.memo)(m)},86100:(e,t,n)=>{"use strict";function o(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=o(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}n.d(t,{A:()=>o})},43402:(e,t,n)=>{"use strict";function o(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}n.d(t,{x:()=>o})}}]);